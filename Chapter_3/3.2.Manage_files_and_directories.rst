==================================
3.2 管理文件和目录
==================================

在命令行中处理文件和目录
-----------------------------------

在命令行中操作文件系统中的文件和目录时，需要了解如何管理这些文件和目录以及管理文件系统的常用命令。

在 Linux 系统中执行操作时，用户必定在文件系统的某个目录位置中。我们一般将当前所处的目录称为当前目录。下图中“zhangsan”是用户zhangsan的初始目录，下面将其作为的那个前目录进行介绍。

.. image:: /_images/Chapter_3/3-2/3-2-1.目录结构.png
   :align: center

切换目录
^^^^^^^^^^^^^^^^^

cd命令用于在文件系统上切换目录。

.. code:: none
   
   cd [目录]

目录可以是绝对路径，也可以是相对路径。绝对路径从根目录（/）开始，并以斜杠（/）分隔所需目录的路径。此外，相对路径从当前目录，表示所需目录的路径。你可以使用以下目录符号：

.. csv-table:: 目录符号
   :widths: 5 30
   :header: "符号", "说明"

    "~", "初始目录，表示当前执行用户的工作目录。"
    ".", "当前目录，表示当前执行用户的所处的目录。"
    "\.\.", "父目录，以当前目录为准，表示上一级目录。"

在图3-2-1中所示的当前所在路径为用户工作目录“/home/zhangsan”，①②③分别表示切换到不同的目录下。如何使用绝对路径或相对路径切换到相同的路径，参考下表。

.. csv-table:: 指定cd命令的路径
    :widths: 3 15 15
    :header: "编号", "绝对路径", "相对路径"

    "①", "cd /home", "cd .."
    "②", "cd /opt", "cd ../../opt"
    "③", "cd /home/zhangsan/dir_b", "cd dir_b"

除此之外，如果登陆用户为 zhangsan，无论当前在哪个目录下，使用“cd”，“cd ~”，“cd ~zhangsan” 都将切换到用户工作目录“/home/zhangsan”。但是如果zhangsan用户使用命令“cd ~lisi”，也同样可以切换到用户lisi的工作目录下，但是必须拥有用户lisi工作目录的读写权限才可访问。

显示目录路径
^^^^^^^^^^^^^^^^^^^^^^^^^^

pwd命令以绝对路径显示当前用户所处的目录位置。

.. code-block: none

    pwd

查看文件和目录信息
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

ls 命令列出文件和目录信息。如果没有指定目录名称，则默认会列出当前目录的内容。

.. code-block:: none

    ls [选项] [目录名...]
    ls [选项] [文件名...]

.. csv-table:: ls 命令选项
    :header: "选项", "说明"
    :widths: 5 40

    "-F", "显示表示文件类型符号：“/”是目录，“*”是可执行文件，“@”是链接符号"
    "-a", "显示隐藏文件（文件名以点“.”开头）"
    "-l", "显示详细信息"
    "-d", "显示当前目录的信息，而不是当前目录下的内容"

.. note:: 由于在使用ls命令时，我们可以指定多个文件或目录，因此上面的命令格式中我们使用“...”来表示多个文件或目录。在之后的内容中也会使用相同的表示方法。

.. code-block:: none

    $ cd /usr ➜ 表示移动到目录/usr
    $ ls ➜ 表示查看目录/usr下的内容
    bin  etc  games  include  lib  lib64  libexec  local  sbin  share  src  tmp

打印文件内容
^^^^^^^^^^^^^^^^^^^^

more 命令打印指定文件的内容。

.. code-block:: none

    more 文件名称

按[Space]键可以显示下一页，并在浏览到文件的最后一页时退出。

逐页查看文件内容
^^^^^^^^^^^^^^^^^^^^^^^^^^^

less命令一额每页为单位显示不能一次性打印在屏幕上的文件。如果不能完全适应屏幕，清按[↑↓]键滚动屏幕。按键操作与 man 命令相同。

.. code-block:: none

    less 文件名称

查看文件内容
^^^^^^^^^^^^^^^^^^^^^^^^^

cat命令可以显示指定名称的文件的内容。如果指定了多个文件，则会连续显示所有文件。此外，使用“-n”选项会在输出时添加行号。

如果执行cat命令时没有指定任何参数，则cat命令将从标准输入（键盘）中读取数据。在键盘中输入一行内容后，按下[Enter]键就会在屏幕上打印出刚刚输入的内容，然后重复进行操作，直到按下[Ctrl+D]结束。

.. code-block:: none

    cat [选项] [文件名称...]

.. csv-table:: cat 命令选项
    :header: "选项", "说明"
    :widths: 5 30

    "-n", "为所有行添加行号"
    "-T", "将制表符显示为“^”"

