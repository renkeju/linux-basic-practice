<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>第一章 Linux 概述 &mdash; 《Linux 基础实践入门》 alpha 文档</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="第二章 Linux的启动和停止" href="../Chapter_2/2.start_and_stop_linux.html" />
    <link rel="prev" title="《Linux 基础实践入门》" href="../index.html" />
<link rel="stylesheet" type="text/css" href="../_static/handsontable.full.min.css">
<link href="../_static/style.css" rel="stylesheet" type="text/css">
<script src="../_static/handsontable.full.min.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> 《Linux 基础实践入门》<img src="../_static/linux.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">第一章 Linux 概述</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">1.1 认识Linux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">操作系统</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Linux系统</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Linux发行版</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">包管理器</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">桌面环境</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">发行版份额</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">发行版人气度</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">发行版种类</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id10">主要桌面环境</a></li>
<li class="toctree-l3"><a class="reference internal" href="#guicui">GUI和CUI操作</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#centos">1.2 安装 CentOS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">获取安装介质</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">安装顺序</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">登陆</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ubuntu">1.3 安装 Ubuntu</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">获取安装介质</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">安装顺序</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">登陆</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id17">1.4 系统的初始化设定</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id18">CentOS的初始化配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id19">Ubuntu初始化设定</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ssh">1.5 通过 SSH 远程登录</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id20">远程登录</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sshd">确认sshd启动</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">ssh远程登录</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_2/2.start_and_stop_linux.html">第二章 Linux的启动和停止</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_3/3.opration_and_use_of_files.html">第三章 文件的操作与使用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_4/4.Register_modify_delete_user.html">第四章 管理用户</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_5/5.Execute_scripts_and_tasks.html">第五章 执行脚本和任务</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendix_A/A.Create_a_virtual_environment.html">附录A 创建虚拟环境</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">《Linux 基础实践入门》</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">第一章 Linux 概述</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Chapter_1/1.Linux_overview.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="linux">
<h1>第一章 Linux 概述<a class="headerlink" href="#linux" title="永久链接至标题">¶</a></h1>
<div class="section" id="id1">
<h2>1.1 认识Linux<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h2>
<div class="section" id="id2">
<h3>操作系统<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h3>
<p>现在在我们的日常生活中，各种各样的软件为我们提供了丰富的功能。比如发送邮件、浏览网页、编辑视频或音频、编辑文档文件和管理日程安排等等。</p>
<p>计算机硬件分为很多种类，比如CPU、内存和硬盘等，而且其功能也各不相同。对于普通用户来说，计算机的结构非常复杂。普通用户并不具备直接操作计算硬件的能力，需要由程序来帮助普通用户使用计算机的硬件。</p>
<p>操作系统（以下简称“OS”）主要作用就是有效的利用各种硬件的功能与性能，使开发者或计算机操作者更容易开发应用程序或使用软件。但OS只提供运行硬件的基础功能，软件开发者可以在OS之上开发出各种功能丰富且易于使用的软件，让普通用户能够轻松的使用计算机来工作。</p>
<p>优秀的OS提高了开发人员的开发效率，同样也使得用户能够花费更少的精力学习使用所需的功能。</p>
<p>目前常见的OS代表有Linux、Microsoft Windows、macOS等。</p>
<a class="reference internal image-reference" href="../_images/1-1-1.OS的构成.png"><img alt="&quot;1-1-1 OS的构成&quot;" class="align-center" src="../_images/1-1-1.OS的构成.png" style="width: 500px;" /></a>
<ul>
<li><p>OS的作用</p>
<p>OS由内核提供最基础的操作系统的功能，再加以一些具有各种功能的程序组成。内核可以管理所有硬件方面的资源调用，其包括利用CPU、管理内存、管理外部设备、管理机箱和中断硬件等。内核提供了各种各样的接口和库为开发者使用，所以开发者可以通过程序操作内核，而普通用户可以通过程序提供的服务来调用硬件资源。</p>
</li>
<li><p>应用程序种类</p>
<p>用户程序是指针对特定的用途而开发的软件，具体功能取决于用户用途。系统应用程序一般都是OS中包含的程序包组，它是由程序供应商打包在一起，通过委托开发或自行开发等制作和发布。</p>
</li>
<li><p>Linux操作系统构成</p>
<p>Linux操作系统由Linux内核、库和用户控制平台组成。</p>
</li>
</ul>
<img alt="&quot;1-1-2 Linux操作系统构成&quot;" class="align-center" src="../_images/1-1-2.Linux操作系统构成.png" />
</div>
<div class="section" id="id3">
<h3>Linux系统<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h3>
<p>Linux系统的内核是为OS提供最基本功能的程序，例如CPU的调用、内存管理、进程管理等等。OS的启动是从Linux内核被读取后由内核引导系统开始的。</p>
<ul>
<li><p>可加载模块</p>
<p>在系统启动后，内核模块根据程序的需要从磁盘读取到内核地址空间。由于在内核中针对各种厂商不同的网络硬件对应有不同的驱动器（控制硬件的程序），所以网络硬件模块作为可加载模块来提供。</p>
</li>
<li><p>库</p>
<p>库作为开发程序时所需函数的通用素材。在Linux中，系统提供了GNU开发的库，以及X.Org开发的X库。</p>
</li>
<li><p>X Window System</p>
<p>X Window System程序由X.Org组织开发的X服务和X客户端构成。在X Window System上，桌面环境得以以统一的设计和操作作为基础，为开发者提供了菜单、图标和后退回台窗口等服务。</p>
</li>
<li><p>程序开发环境</p>
<p>在程序开发所需的解释程序中，Linux系统可以提供Bash、Python、Perl语言等，作为编译器，可以提供C、C++、Java等开发环境。</p>
</li>
<li><p>服务程序</p>
<p>在Linux中可以提供各种各样的后台服务。例如，有ssh交换通讯数据的程序、提供打印机服务的程序等。</p>
</li>
<li><p>命令、实用程序</p>
<p>在桌面环境中，有提供文字处理和计算表格等办公工具套件（LibreOffice），具有高级功能图形编辑软件（GIMP）、Web浏览器（Chrome）、邮件工具（雷鸟邮件）、系统管理工具（系统监视器）等。另外，还为一般用户提供了用户管理、网络管理、数据库管理等用途的命令。</p>
</li>
</ul>
</div>
<div class="section" id="id4">
<h3>Linux发行版<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h3>
<p>1991年，自李纳斯.托瓦兹在互联网上公开了第一版Linux内核以来，Linux内核就吸引了众多开发人员参与其中并不断发展。</p>
<p>但是仅有Linux内核还不能称为OS，除此之外还需要有由源代码通过比较生成的可执行文件，程序可使用的程序库，为用户提供接口的Shell等诸多软件才能将Linux视为完整的OS，除此之外OS中还包含了从Shell启动的命令、工具，以及将它们安装到磁盘的安装程序。</p>
<p>企业、组织或个人可以为Linux内核集成上述软件并制作成OS进行发布（Distribute），所发布Linux系统被称为**发行版**(Distribution或Distro)。</p>
<p>在Linux操作系统中主要由免费软件和开源软件组成，下面我们简单描述Linux系统常见的软件类型：</p>
<ul>
<li><p>自由软件</p>
<p>在GNU通用公共许可证（英语：GNU General Public License，缩写GNU GPL 或 GPL）下分发的软件称为“自由软件”，使用通用公共许可证编写的软件统称为自由软件。GPL的主要条件内容包括：</p>
<ul class="simple">
<li><p>如果要发布编译源代码生成的二进制文件（可执行程序），则该源代码也必须公开。</p></li>
<li><p>可自由开发、变更、发布和使用。</p></li>
<li><p>使用GPL发布的软件为基础，再次进行开发和变更的软件也必须基于GPL发布</p></li>
</ul>
<p>GPL的这一独特规定保证了软件可以再次分发，达到共享和发展软件目的。大多数Linux系统中的主要软件是在GPL下分发的免费软件。</p>
<img alt="../_images/1-1-3.自由软件.png" class="align-center" src="../_images/1-1-3.自由软件.png" />
</li>
<li><p>开源软件</p>
<p>源代码要求公开，但再次分发自由的软件一般被称为“开源软件”。在开源倡议（Open Source Initiative:OSI）中，根据“开发源代码定义”（The Open Source Definition:OSD），规定了开源软件的主要条件内容如下：</p>
<ul class="simple">
<li><p>允许再次分发</p></li>
<li><p>程序的可执行文件在发布时，必须也同时发布完整的源代码</p></li>
<li><p>如果对软件进行了修改，不必与修改前的代码使用同样的许可证</p></li>
</ul>
<p>开源软件的规定变更了GPL中“以GPL为基础发布的软件、再次发布的变更软件必须同样使用GPL”这样的要求。</p>
<p>如果您修改了使用开源许可证进行分发的软件，您也可以通过其他许可证再次分发。在某些情况下，对于想要隐藏源代码的公司来说，这是一个易于采用的协议。</p>
<p>X.Org开发的X Window System软件为“MIT许可证”，Mozilla组织开发的Web浏览器Firefox为“MPL（Mozilla Public License）”，构成Linux系统的一部分软件也都以开放形式发布。</p>
<img alt="../_images/1-1-4.开源软件.png" class="align-center" src="../_images/1-1-4.开源软件.png" />
</li>
<li><p>再造软件</p>
<p>再造软件在分发的情况下是不允许修改或复制的软件。发布者只提供二进制文件（可执行程序），不公开源代码。一般情况下，获取再造软件是收费的。Microsoft Windows和在其系统上运行的收费软件都是再造软件。</p>
<p>在一部分Linux发行版中，有时会包含再造软件。如果擅自将原程序软件复制散布，恐怕会涉及到著作权，所以需要注意。</p>
<img alt="../_images/1-1-5.程序再造软件.png" class="align-center" src="../_images/1-1-5.程序再造软件.png" />
</li>
</ul>
<p>Linux中的软件多是通过自由软件和开源软件的许可证发布的，可以自由地进行再次发布和变更。因此，现在有RedHat Enterprise Linux(RHEL)、CentOS（RHEL下游发行版）、Ubuntu、Debian/GNU Linux等数百种发行版。</p>
<p>用户可以考虑自己的喜好和使用目的，从中选择合适的版本。这也是Linux最大的特征之一。</p>
<img alt="../_images/1-1-6.CentOS和Ubuntu的软件配置.png" class="align-center" src="../_images/1-1-6.CentOS和Ubuntu的软件配置.png" />
<p>内核、库、Shell和基本命令都是OS所必备的组件，在任何发行版中都是通用的（不同发行版所采用的软件版本可能会有所差异）。</p>
<p>各种Linux发行版最大的区别在于软件包的管理方式和桌面环境。</p>
<div class="section" id="id5">
<h4>包管理器<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h4>
<p>包管理器的类别有RedHat系的rpm命令管理方式，Ubuntu/Debian系的dpkg命令管理方式，以及其他的方式。不同的包管理器所管理的软件包的封装格式也各有不同。</p>
<p>另外，从网络上的存储库安装、更新的方式中，有RedHat系的dnf（早期版本为yum）命令管理方式，Ubuntu/Debian系的apt命令管理方式，以及除此之外的其他方式。</p>
<p>存储库（Repoitory或Repo）是指软件包所在的存储位置。Linux系统通常使用在网络上的存储库，但也可以将本地DVD、CD-ROM或ISO镜像作为存储库。</p>
<table class="colwidths-given docutils align-default" id="id22">
<caption><span class="caption-text">主要软件包格式与管理命令</span><a class="headerlink" href="#id22" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 38%" />
<col style="width: 25%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>RedHat系</p></th>
<th class="head"><p>Ubuntu/Debian系</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>包格式</p></td>
<td><p>rpm格式</p></td>
<td><p>deb格式</p></td>
</tr>
<tr class="row-odd"><td><p>包管理命令</p></td>
<td><p>rpm命令</p></td>
<td><p>dpkg命令</p></td>
</tr>
<tr class="row-even"><td><p>利用存储库的包管理命令</p></td>
<td><p>dnf(yum)命令</p></td>
<td><p>apt命令</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id6">
<h4>桌面环境<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h4>
<p>桌面环境提供了一套统一风格的易用性设计，其中包括菜单、文件管理器、Web浏览器、邮件工具和应用托管程序，以及系统管理程序。</p>
<p>现在，使用最为广泛的桌面环境是GNOME，但是还有很多其他独具特色的桌面环境。</p>
<p>Linux发行版可以根据其用途粗略分类为服务器和台式机，面向个人和面向企业。</p>
<img alt="../_images/1-1-7.按用途分类的Linux发行版.png" class="align-center" src="../_images/1-1-7.按用途分类的Linux发行版.png" />
</div>
<div class="section" id="id7">
<h4>发行版份额<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h4>
<p>在这里对各发行版的使用状况、以及Web服务器的市场占有率、开发平台的份额、云实例的份额为例进行介绍。</p>
<ul>
<li><p>Web服务器</p>
<p>根据Q-Success公司运营的W3Techs.com调查，在运行Web服务器的Linux系统的市场占有率中，Ubuntu为第一位，Debian为第二位，CentOS（Redhat系）为第三位，接着是RedHat(Redhat Enterprise Linux:RHEL)，Gentoo等。</p>
<a class="reference internal image-reference" href="../_images/1-1-8.Web服务器市场占有率.png"><img alt="../_images/1-1-8.Web服务器市场占有率.png" class="align-center" src="../_images/1-1-8.Web服务器市场占有率.png" style="width: 400px;" /></a>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>W3Techs.com的调查是根据亚马逊的子公司Alexa Internet公司的Web流量的统计信息为基础进行分析。</p>
</div>
</li>
<li><p>开源云平台的市场占有率</p>
<p>在开源云平台OpenStack中，有RedHat、SUSE、NEC、IBM、富士通、华为等100多家公司参与了开发，并且此项目支持的企业超过500家。</p>
<p>在OpenStack平台中运行的Linux发行版市场份额为：CentOS位居第一，Debian为第二位，Fedora Server为第三位，接着是RedHat Enterpricse Linux(RHEL)，SUSE Linux Enterprise Server(SLES)等。</p>
<a class="reference internal image-reference" href="../_images/1-1-9.OpenStack平台份额.png"><img alt="../_images/1-1-9.OpenStack平台份额.png" class="align-center" src="../_images/1-1-9.OpenStack平台份额.png" style="width: 400px;" /></a>
</li>
<li><p>公有云实例份额</p>
<p>根据The Cloud Market(<a class="reference external" href="https://thecloudmarket.com">https://thecloudmarket.com</a>)的统计数据，除在Amazon Elastic Compute Cloud(EC2)实例中运行的Amazon Linux AMI镜像（云上运行的虚拟OS），在EC2中的Linux操作系统类别中，Ubuntu位于第一位，Debian为第二位，Microsoft Windows是第三位。接下来是RedHat（RHEL)和CentOS(RedHat系)等。</p>
<a class="reference internal image-reference" href="../_images/1-1-10.EC2实例市场占有率.png"><img alt="../_images/1-1-10.EC2实例市场占有率.png" class="align-center" src="../_images/1-1-10.EC2实例市场占有率.png" style="width: 400px;" /></a>
</li>
</ul>
</div>
<div class="section" id="id8">
<h4>发行版人气度<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h4>
<p>在记载了Linux发行版等开源操作系统信息的网站DistroWatch（<a class="reference external" href="https://distrowatch.com">https://distrowatch.com</a>）中，可以看到为Linux发行版进行人气度排序的网页，面向个人配置的Linux Mint、elementary OS、Manjaro Linux等长久的排在了前几位。</p>
<a class="reference internal image-reference" href="../_images/1-1-11.DistroWatch.com2019年11月各linux发行版本人气度.png"><img alt="../_images/1-1-11.DistroWatch.com2019年11月各linux发行版本人气度.png" class="align-center" src="../_images/1-1-11.DistroWatch.com2019年11月各linux发行版本人气度.png" style="width: 400px;" /></a>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>DistroWatch.com通过对使用同一IP地址访问Linux发行版网站每天的点击量进行排名统计。</p>
</div>
</div>
<div class="section" id="id9">
<h4>发行版种类<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h4>
<p>我们可以将主要发行版分为企业用户、一般用户（RedHat系）、普通用户（Ubuntu/Debian）、通用用户（专有软件包管理分发）来介绍其特性。</p>
<ul>
<li><p>面向企业的发行版</p>
<p>面向企业的代表性发行版有 <strong>RedHat Enterprise Linux</strong> （RHEL）和 <strong>SUSE Linux Enterprise Server</strong> （SLES）。其主要特征如下：</p>
<ul class="simple">
<li><p>采用付费订阅协议（期限为1年、3年等），为企业提供了二进制文件（可执行程序）的发布、更新、支持、技术信息等服务。对于RHEL，如果没有预定合同，则无法获取二进制文件。SLES注册（免费）可获得试用版本。</p></li>
<li><p>由于程序包数量限定了支持范围，所以其软件的调试配置比面向一般用户的发行版的较少。</p></li>
<li><p>管理类的技术文档完善。</p></li>
<li><p>采用企业所需的高容量、高读写和高性能的文件系统。</p></li>
<li><p>对与高可用性集群、存储、统一认证和私有云等产品有需求的企业都可以在面向企业的发行版上获取服务</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 4%" />
<col style="width: 8%" />
<col style="width: 4%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>发行版</p></th>
<th class="head"><p>最新版本</p></th>
<th class="head"><p>最新版本发布日期</p></th>
<th class="head"><p>包管理器</p></th>
<th class="head"><p>标准文件系统</p></th>
<th class="head"><p>标准桌面环境</p></th>
<th class="head"><p>特征</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>RedHat Enterprise Linux</p></td>
<td><p>8</p></td>
<td><p>2019年5月</p></td>
<td><p>dnf</p></td>
<td><p>xfs</p></td>
<td><p>GNOME3</p></td>
<td><p>开发商：RedHat公司
1. 可以使用其他桌面环境，如KED、Xfce
2. 通过dnf命令使用存储库中的更新
3. dnf为新一代的rpm软件包管理器。dnf包管理器克服了dnf包管理器的一些瓶颈，提升了包括用户体验，内存占用，依赖分析，运行速度等多方面的内容。</p></td>
</tr>
<tr class="row-odd"><td><p>SUSE Linux Enterprise Server</p></td>
<td><p>15</p></td>
<td><p>2018年7月</p></td>
<td><p>yum</p></td>
<td><p>Btrfs</p></td>
<td><p>GNOME3</p></td>
<td><p>开发商：EQT公司
1. 在ISO镜像中，除了服务器版本之外，还有SUSE Linux Enterprise Desktop
2. SUSE可以使用专有的GUI管理工具YaST
3. 通过SUSE独立的zypper命令（而非yum命令）更新存储库</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>面向一般用户（RedHat系）发行版</p>
<p>在面向一般用户的发行版中，一般将使用yum作为包管理器的发行版大致的归为RedHat系。</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 7%" />
<col style="width: 12%" />
<col style="width: 9%" />
<col style="width: 10%" />
<col style="width: 51%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>发行版</p></th>
<th class="head"><p>最新版本</p></th>
<th class="head"><p>最新版本发布日期</p></th>
<th class="head"><p>标准文件系统</p></th>
<th class="head"><p>标准桌面环境</p></th>
<th class="head"><p>特征</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CentOS</p></td>
<td><p>8.0</p></td>
<td><p>2019年9月</p></td>
<td><p>xfs</p></td>
<td><p>GNOME3</p></td>
<td><p>开发商：CentOS项目
1. RedHat Enterprise Linux(RHEL)的复刻版本
2. 在RedHat公司的支持下，以RHEL为基础，除去了RedHat公司的Logo，开发CentOS项目</p></td>
</tr>
<tr class="row-odd"><td><p>Scientific Linux</p></td>
<td><p>7.7</p></td>
<td><p>2019年8月</p></td>
<td><p>xfs</p></td>
<td><p>GNOME3</p></td>
<td><p>开发商：CERN、Fermilab
1. RedHat Enterprise Linux(RHEL)的复刻版本
2. 以RHEL的源代码为基础，除去了RedHat公司的Logo，CERN和Fermilab共同开发。</p></td>
</tr>
<tr class="row-even"><td><p>Fedora</p></td>
<td><p>31</p></td>
<td><p>2019年10月</p></td>
<td><p>ext4</p></td>
<td><p>GNOME3</p></td>
<td><p>开发商：Fedora项目
1. RHEL的开发版
2. 桌面环境还可以使用KDE、Xfce、MATE、Cinnamon、LXQt、LXDE和SOAS。</p></td>
</tr>
<tr class="row-odd"><td><p>openSUSE</p></td>
<td><p>leap 15.1</p></td>
<td><p>2019年5月</p></td>
<td><p>Btrfs</p></td>
<td><p>安装时进行选择</p></td>
<td><p>开发商：openSUSE项目
1. openSUSE项目从2015年开始发行两种配置、Leap和Tumbleweed
2. Tumbleweed作为SLES的开发版本滚动更新，Leap是一个SLES作为基础发行。</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>面向一般用户（Ubuntu/Debian）发行版</p>
<p>在面向一般用户的发行版中，一般将使用dpkg作为包管理器的发行版大致归为Ubuntu/Debian系。</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 6%" />
<col style="width: 10%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>发行版</p></th>
<th class="head"><p>最新版本</p></th>
<th class="head"><p>最新版本发布日期</p></th>
<th class="head"><p>标准文件系统</p></th>
<th class="head"><p>标准桌面环境</p></th>
<th class="head"><p>特征</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Ubuntu</p></td>
<td><p>19.04</p></td>
<td><p>2019年10月</p></td>
<td><p>ext4</p></td>
<td><p>GNOME3</p></td>
<td><p>开发商：Ubuntu项目
1. Canonical公司提供的Ubuntu项目以DebianGNU/Linux为基础进行开发
2. 通常每6个月发行一个新版本，支持周期为9个月，LTS（Long Term Support）是每两年发行一次，支持周期为5年
3. 桌面环境可以使用KDE、Xfce、LXDE和MATE</p></td>
</tr>
<tr class="row-odd"><td><p>DebianGNU/Linux</p></td>
<td><p>10</p></td>
<td><p>2019年7月</p></td>
<td><p>ext4</p></td>
<td><p>安装时选择</p></td>
<td><p>开发商：Debian项目
1. 开发者遵循Debian社群契约及Debian自由软件指导方针，定义了开发Debian的基本承诺
2. 尊重GNU项目的精神，积极采用GNU开发的软件
3. 系统名称不是“Linux”而是“GNU/Linux”，发行版名称为“DebianGNU/Linux”
4. 软件包管理器dpkg于1994年有Debian项目的成员开发并发布
5. 在安装过程中，可以选择的桌面环境有：GNOME、Xfce、KDE、Cinnamon、MATE和LXDE</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>面向通用用户（专用软件包管理器）发行版</p>
<p>除了前面所述的RedHat系、Ubuntu/Debian系之外，一般将使用独立包管理器的发行版作为普通用户分类。</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 7%" />
<col style="width: 12%" />
<col style="width: 9%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>发行版</p></th>
<th class="head"><p>最新版本</p></th>
<th class="head"><p>最新版本发布日期</p></th>
<th class="head"><p>标准文件系统</p></th>
<th class="head"><p>特征</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Gentoo Linux</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>滚动发布</p></td>
<td><p>Protage</p></td>
<td><p>开发商：Gentoo Foundation
1. 不属于RedHat系也不属于Debian/Ubuntu系的独立发行版
2. 软件不是二进制代码，而是需要通过源代码进行安装
3. 软件包管理系统Portage使用脚本编译源代码和安装软件包
4. 其用途是可以面向各种用途进行定制</p></td>
</tr>
<tr class="row-odd"><td><p>Arch Linux</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>滚动发布</p></td>
<td><p>pacman</p></td>
<td><p>开发商：Aaron Griffin，其他
1. 不属于RedHat系也不属于Debian/Ubuntu系的独立发行版
2. 简便轻量
3. 使用安装ISO镜像进行安装操作，手动进行分区、文件系统的初始化和分类、安装包、编辑和配置文件
4. 包管理器是ArchLinux独有的pacman
5. 命令行界面（Command Line Interface）
6. 也可以从存储库中安装桌面环境</p></td>
</tr>
<tr class="row-even"><td><p>Manjaro</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>滚动发布</p></td>
<td><p>pacman</p></td>
<td><p>开发商：Manjaro团队
1. 基于ArchLinux的一般用户对用户友好的发行</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>滚动发布版本不是发行版的版本号，而是按每个单独的程序包版本进行管理，它可以随时更新软件包。滚动发布的Linux发型版可以从官方网站下载定期更新的发行版安装镜像。</p>
</div>
</div>
</div>
<div class="section" id="id10">
<h3>主要桌面环境<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h3>
<p>个发行版本的最大不同之一是采用的桌面环境配置不同，桌面环境的外观和操作方式不同。此外，每个桌面环境都有自己的模拟终端，您可以在其中运行Linux命令来执行操作系统的操作和管理。</p>
<p>以下是主要发行版中采用的桌面环境的示例（括号内是桌面环境）。</p>
<a class="reference internal image-reference" href="../_images/1-1-12.elementaryos.jpg"><img alt="../_images/1-1-12.elementaryos.jpg" class="align-center" src="../_images/1-1-12.elementaryos.jpg" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-1-15.CentOS.png"><img alt="../_images/1-1-15.CentOS.png" class="align-center" src="../_images/1-1-15.CentOS.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-1-13.linuxmate.png"><img alt="../_images/1-1-13.linuxmate.png" class="align-center" src="../_images/1-1-13.linuxmate.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-1-14.ubuntu.jpg"><img alt="../_images/1-1-14.ubuntu.jpg" class="align-center" src="../_images/1-1-14.ubuntu.jpg" style="width: 250px;" /></a>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 11%" />
<col style="width: 18%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>桌面环境</p></th>
<th class="head"><p>模拟终端</p></th>
<th class="head"><p>可使用的Linux发行版</p></th>
<th class="head"><p>特征</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GNOME</p></td>
<td><p>gnome-terminal</p></td>
<td><p>大多数发行版，如CentOS和Ubuntu</p></td>
<td><p>开发商：GNOME项目
1. GNOME最新版本为GNOME3
2. 在GNOME3中，将GNOME2中提供的GNOME Panel替换为GNOME-shell作为用户的图形界面，在操作性和设计上发生了很大的变化
3. GNOME-Shell被设计成适用于鼠标和键盘操作的大型的桌面PC，和使用键盘、鼠标、触控板外接屏幕操作的小型移动PC
4. GNOME3可以在登录时选择GNOME会话</p></td>
</tr>
<tr class="row-odd"><td><p>KDE</p></td>
<td><p>Konsole</p></td>
<td><p>openSUSE、Ubuntu、CentOS等</p></td>
<td><p>开发商：KDE项目
1. 正式名称为K Desktop Environment
2. 使用QT工具包开发的桌面环境
3. 和GNOME一样，KDE可以在很多发行版中使用</p></td>
</tr>
<tr class="row-even"><td><p>Xfce</p></td>
<td><p>xfce4-terminal</p></td>
<td><p>Ubuntu、CentOS等</p></td>
<td><p>开发商：Xfce项目
1. 专为需要快速、轻便的桌面环境的用户而设计</p></td>
</tr>
<tr class="row-odd"><td><p>LXDE</p></td>
<td><p>lxterminal</p></td>
<td><p>Ubuntu、Debian、Fedora等</p></td>
<td><p>开发商：LXDE团队
1. Lightweight X11 Desktop Environment
2. 为配置较低的PC设计的轻型桌面环境
3. 适用于配置较低老旧PC和轻薄笔记本，使用GTK工具包开发的桌面环境</p></td>
</tr>
<tr class="row-even"><td><p>LXQt</p></td>
<td><p>qterminal</p></td>
<td><p>openSUSE、Fedora等</p></td>
<td><p>开发商：LXQt团队
1. 与LXDE有相似的设计目标，使用QT工具包开发的桌面环境</p></td>
</tr>
<tr class="row-odd"><td><p>Cinnamon</p></td>
<td><p>gnome-terminal</p></td>
<td><p>Mint、CentOS、Ubuntu等</p></td>
<td><p>开发商：Linux Mint团队
1. 从GNOME3的GNOME-Shell衍生出的桌面环境
2. 虽然是专为Linux Mint开发的桌面环境，但是现在可以在多个Linux发行版中使用
3. 外观与操作性与GNOME2相似</p></td>
</tr>
<tr class="row-even"><td><p>MATE</p></td>
<td><p>mate-terminal</p></td>
<td><p>CentOS、Ubuntu等</p></td>
<td><p>开发商：MATE团队
1. MATE是继承GNOME2的桌面环境
2. 虽然GNOME项目停止了对GNOME2的开发，但MATE继续支持GNOME2开发
3. 名字来源与南美的马特茶</p></td>
</tr>
<tr class="row-odd"><td><p>Pantheon</p></td>
<td><p>pantheon-terminal</p></td>
<td><p>elementary OS</p></td>
<td><p>开发商：elementary公司
1. elementary OS的桌面环境
2. 具有设计美观和操作简洁的特征
3. 基于GNOME软件组件构建而成</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="guicui">
<h3>GUI和CUI操作<a class="headerlink" href="#guicui" title="永久链接至标题">¶</a></h3>
<p>操作系统的操作方法分为两种：GUI操作与CUI操作。</p>
<ul>
<li><p>GUI(Graphical User Interface)</p>
<p>使用鼠标在图形界面桌面上操作菜单或图标。</p>
</li>
<li><p>CUI(Character User Interface)</p>
<p>仅在显示器上显示文件，并通过键盘的输入进行操作。</p>
</li>
</ul>
<p>在桌面环境中提供了不同的GUI工具，您可以通过鼠标来操作这些工具。作为CUI，每个桌面环境都提供了自己的模拟终端。您可以在这个模拟终端中使用键盘输入并执行Linux命令。大多数情况下，GUI工具无法完成细微的操作也可以使用命令来完成。</p>
<p>不同的桌面环境有不同的GUI工具，但是指令在几乎所有的发行版中都是相同的（有时也会因为命令所采用的版本不同有细微的差异）。</p>
<p>下面是使用桌面环境GNOME工具中（GUI）进行的操作的示例，以及在模拟终端中gnome-terminal中（CUI）执行等效操作的示例。</p>
<a class="reference internal image-reference" href="../_images/1-1-16.gnome-control-center_user-accounts.png"><img alt="../_images/1-1-16.gnome-control-center_user-accounts.png" class="align-center" src="../_images/1-1-16.gnome-control-center_user-accounts.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-1-19.terminal_show_user.png"><img alt="../_images/1-1-19.terminal_show_user.png" class="align-center" src="../_images/1-1-19.terminal_show_user.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-1-17.gnome-control-center_network.png"><img alt="../_images/1-1-17.gnome-control-center_network.png" class="align-center" src="../_images/1-1-17.gnome-control-center_network.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-1-20.terminal_show_network.png"><img alt="../_images/1-1-20.terminal_show_network.png" class="align-center" src="../_images/1-1-20.terminal_show_network.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-1-18.gnome-monitor.png"><img alt="../_images/1-1-18.gnome-monitor.png" class="align-center" src="../_images/1-1-18.gnome-monitor.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-1-21.terminal_show_top.png"><img alt="../_images/1-1-21.terminal_show_top.png" class="align-center" src="../_images/1-1-21.terminal_show_top.png" style="width: 250px;" /></a>
<p>对于服务器（如DNS、Web或邮件），通常不需要安装桌面环境，或者安装了桌面环境也不使用。原因是当您通过网络管理设备时，您的桌面环境必定会增加网络传输的流量，而且也会消耗一定的性能。所以使用CUI来管理操作系统可以省去繁琐的操作流程与节省流量。</p>
<a class="reference internal image-reference" href="../_images/1-1-22.terminal_shell_command.png"><img alt="../_images/1-1-22.terminal_shell_command.png" class="align-center" src="../_images/1-1-22.terminal_shell_command.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-1-23.tty_windows.png"><img alt="../_images/1-1-23.tty_windows.png" class="align-center" src="../_images/1-1-23.tty_windows.png" style="width: 250px;" /></a>
</div>
</div>
<div class="section" id="centos">
<h2>1.2 安装 CentOS<a class="headerlink" href="#centos" title="永久链接至标题">¶</a></h2>
<div class="section" id="id11">
<h3>获取安装介质<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h3>
<p>要安装CentOS，请从官方网站上的列出的镜像网站链接处下载ISO镜像文件。CentOS官方网站的URL请参照以下内容：</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p><strong>CentOS官方网站</strong>：<a class="reference external" href="https://centos.org">https://centos.org</a></p>
</div>
<a class="reference internal image-reference" href="../_images/1-2-1.CentOS官方网站.png"><img alt="../_images/1-2-1.CentOS官方网站.png" class="align-center" src="../_images/1-2-1.CentOS官方网站.png" style="width: 600px;" /></a>
<p>在官方网站上单击“Get CentOS Now”按钮。</p>
<a class="reference internal image-reference" href="../_images/1-2-2.CentOS种类.png"><img alt="../_images/1-2-2.CentOS种类.png" class="align-center" src="../_images/1-2-2.CentOS种类.png" style="width: 600px;" /></a>
<p>CentOS根据不同的使用目的，提供不同的镜像下载。另外不同镜像初期安装的程序包也不相同。您可以在安装完成后添加或删除程序包，确保使用不同的镜像也同样可以构建相同的环境。</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 10%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>种类</p></th>
<th class="head"><p>使用目的</p></th>
<th class="head"><p>补充</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CentOS Linux DVD ISO</p></td>
<td><p>标准配置安装</p></td>
<td><p>标准安装镜像中用户可根据用途构建各种类型的配置</p></td>
</tr>
<tr class="row-odd"><td><p>CentOS Stream DVD ISO</p></td>
<td><p>滚动更新配置安装</p></td>
<td><p>CentOS Stream是一个滚动发行的发行版，它跟踪Red Hat Enterprise Linux（RHEL）开发之前的情况，它位于Fedora Linux和RHEL之间的中间位置</p></td>
</tr>
</tbody>
</table>
<p>在本书中，您将使用“CentOS Linux DVD ISO”，点击“CentOS Linux DVD ISO”按钮，就会显示同步了CentOS存储库的镜像站的URL列表页面。下面我们开始对“CentOS-8-x86_64-1905-dvd1.iso”的安装步骤进行演示。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>ISO镜像版本会随时更新（本书使用的是1905）。安装及应用 CentOS-8（1905）须要最少2GB内存。我们推荐采用至少4GB内存。其他硬件条件要求，请参考以下URL:
<a class="reference external" href="https://wiki.centos.org/zh/Manuals/ReleaseNotes">https://wiki.centos.org/zh/Manuals/ReleaseNotes</a></p>
</div>
</div>
<div class="section" id="id12">
<h3>安装顺序<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h3>
<p>本书采用系统安装程序提供的默认安装方式，之后在每个章节都会提出需要附加的软件包与设置。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>需要使用VMware Workstations或Virtual Box在虚拟环境中安装CentOS时，请参照本书第十一章。</p>
</div>
<ol class="arabic">
<li><p>安装设备并启动</p>
<blockquote>
<div><p>从下载的ISO镜像中启动安装程序。启动后，选择“Test this media &amp; install CentOS 8”。</p>
<a class="reference internal image-reference" href="../_images/1-2-3.启动界面.png"><img alt="../_images/1-2-3.启动界面.png" class="align-center" src="../_images/1-2-3.启动界面.png" style="width: 400px;" /></a>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>选项</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Install CentOS 8</p></td>
<td><p>安装程序在不检查介质的情况下启动。该选择可缩短启动时间。</p></td>
</tr>
<tr class="row-odd"><td><p>Test this media &amp; install CentOS 8</p></td>
<td><p>默认选择。在安装启动时对媒体进行检查，使用[Esc]键可以结束检查。</p></td>
</tr>
<tr class="row-even"><td><p>Troubleshooting</p></td>
<td><p>故障恢复。在已经安装的磁盘出现了异常的情况下，使用“Rescuea CentOS 8 system”对系统和内存进行检查。</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
<li><p>选择语言</p>
<blockquote>
<div><p>选择要在安装过程中显示的语言。在图形界面的左边栏中选中【中文】，图形界面的右边栏中选中【简体中文（中国）】。然后点击【继续】。</p>
<a class="reference internal image-reference" href="../_images/1-2-4.选择语言.png"><img alt="../_images/1-2-4.选择语言.png" class="align-center" src="../_images/1-2-4.选择语言.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
<li><p>安装信息摘要</p>
<blockquote>
<div><p>在【安装信息摘要】中可以进行各种设定。从任何内容开始设定都可以。在本书中，在【安装目的地】、【网络和主机名】、【软件的选择】这三个地方进行设定。</p>
<a class="reference internal image-reference" href="../_images/1-2-5.安装信息摘要.png"><img alt="../_images/1-2-5.安装信息摘要.png" class="align-center" src="../_images/1-2-5.安装信息摘要.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
<li><p>安装目的地</p>
<blockquote>
<div><p>在【安装信息摘要】界面中选择【安装目的地】。此处对安装目标的磁盘和文件系统进行确认与配置。</p>
<p>在【设备选择】中，确认安装的装置中已经完成了检查。另外，在其他的存储选项的【存储配置】中，确认选择了【自动】，点击界面左上方【完成】。</p>
<a class="reference internal image-reference" href="../_images/1-2-6.安装目的地.png"><img alt="../_images/1-2-6.安装目的地.png" class="align-center" src="../_images/1-2-6.安装目的地.png" style="width: 400px;" /></a>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>关于分区的详细内容，请参考第七章。</p>
</div>
</div></blockquote>
</li>
<li><p>网络和主机名</p>
<blockquote>
<div><p>在【安装信息摘要】界面中，选择【网络和主机名】。系统安装完成后也可以变更，在这里通过DHCP实现网络的有效化和设置主机名。</p>
<p>在本书中，主机名为 <strong>“centos.localdomain”</strong> 。另外，将以太网设为【打开】。设置结束后，单击界面左上角的【完成】。</p>
<a class="reference internal image-reference" href="../_images/1-2-7.网络与主机名.png"><img alt="../_images/1-2-7.网络与主机名.png" class="align-center" src="../_images/1-2-7.网络与主机名.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
<li><p>软件选择</p>
<blockquote>
<div><p>在【安装信息摘要】界面中，选择【软件选择】。默认情况下是【带GUI的服务器】，因此启动时为GUI界面。在本书中，后续的演示是在GUI环境中进行操作。</p>
<p>选择【基本环境】中的【带GUI的服务器】，点击界面左上角的【完成】。</p>
<a class="reference internal image-reference" href="../_images/1-2-8.软件选择.png"><img alt="../_images/1-2-8.软件选择.png" class="align-center" src="../_images/1-2-8.软件选择.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
<li><p>开始安装</p>
<blockquote>
<div><p>完成设置后，单击【安装信息摘要】界面右下角的【开始安装】。</p>
<a class="reference internal image-reference" href="../_images/1-2-9.开始安装.png"><img alt="../_images/1-2-9.开始安装.png" class="align-center" src="../_images/1-2-9.开始安装.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
<li><p>配置root密码与创建普通用户</p>
<blockquote>
<div><p>在系统安装期间，设置root密码和普通用户的注册（可选）。</p>
<a class="reference internal image-reference" href="../_images/1-2-10.配置root与普通用户.png"><img alt="../_images/1-2-10.配置root与普通用户.png" class="align-center" src="../_images/1-2-10.配置root与普通用户.png" style="width: 400px;" /></a>
<ul>
<li><p>配置root密码</p>
<blockquote>
<div><p>在安装界面中选择【root密码】并进入设定界面，之后请输入两次相同的密码。虽然密码没有限制，但是您可以确认输入的密码的强度。输入结束后，单击屏幕左上角的【完成】。在【脆弱（红色）】的情况下，您需要点击两次【完成】。在本书中，root的密码是 <strong>“Linuxbasic2019”</strong>。</p>
<a class="reference internal image-reference" href="../_images/1-2-11.配置root密码.png"><img alt="../_images/1-2-11.配置root密码.png" class="align-center" src="../_images/1-2-11.配置root密码.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
<li><p>配置普通用户</p>
<blockquote>
<div><p>在安装界面中选择【创建用户】并进入配置界面。</p>
<p>在本书中，使用用户名 <strong>“centos”</strong>，密码 <strong>“CentOS&#64;2019”</strong> 创建普通用户。配置完成后，点击屏幕左上角的【完成】。</p>
<a class="reference internal image-reference" href="../_images/1-2-12.配置普通用户.png"><img alt="../_images/1-2-12.配置普通用户.png" class="align-center" src="../_images/1-2-12.配置普通用户.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>安装结束后的配置</p>
<blockquote>
<div><p>安装完成后，界面右下角将出现【重启】按钮，单击后系统将重新启动。</p>
<a class="reference internal image-reference" href="../_images/1-2-13.重启.png"><img alt="../_images/1-2-13.重启.png" class="align-center" src="../_images/1-2-13.重启.png" style="width: 400px;" /></a>
<ul>
<li><p>安装后许可证验证</p>
<blockquote>
<div><p>重新启动后需要确认许可，单击【License information】。</p>
<a class="reference internal image-reference" href="../_images/1-2-14.未接受许可证.png"><img alt="../_images/1-2-14.未接受许可证.png" class="align-center" src="../_images/1-2-14.未接受许可证.png" style="width: 400px;" /></a>
<p>在界面中的【我同意许可协议】前进行勾选，点击界面左上角的【完成】。</p>
<a class="reference internal image-reference" href="../_images/1-2-15.同意许可信息.png"><img alt="../_images/1-2-15.同意许可信息.png" class="align-center" src="../_images/1-2-15.同意许可信息.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
</ul>
<p>这样配置就完成了。单击【初始设置】界面右下角的【结束配置】。</p>
<a class="reference internal image-reference" href="../_images/1-2-26.结束配置.png"><img alt="../_images/1-2-26.结束配置.png" class="align-center" src="../_images/1-2-26.结束配置.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="id13">
<h3>登陆<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h3>
<p>为了进行系统信息的确认和变更，使用root用户登录。</p>
<a class="reference internal image-reference" href="../_images/1-2-16.登录界面.png"><img alt="../_images/1-2-16.登录界面.png" class="align-center" src="../_images/1-2-16.登录界面.png" style="width: 400px;" /></a>
<p>使用root用户登录，请在登录界面中点击【未列出】，然后输入用户名和密码。在本书中，root密码输入 <strong>“Linuxbasic2019”</strong> 。输入后，单击【登录】。</p>
<a class="reference internal image-reference" href="../_images/1-2-17.输入用户名.png"><img alt="../_images/1-2-17.输入用户名.png" class="align-center" src="../_images/1-2-17.输入用户名.png" style="width: 400px;" /></a>
<a class="reference internal image-reference" href="../_images/1-2-18.输入密码.png"><img alt="../_images/1-2-18.输入密码.png" class="align-center" src="../_images/1-2-18.输入密码.png" style="width: 400px;" /></a>
<ul class="simple">
<li><p>用户名：root</p></li>
<li><p>密码：Linuxbasic2019</p></li>
</ul>
<p>登录后会显示初始设定界面。此时请进行汉语输入法的选择等初始设定。</p>
<a class="reference internal image-reference" href="../_images/1-2-19.语言设定.png"><img alt="../_images/1-2-19.语言设定.png" class="align-center" src="../_images/1-2-19.语言设定.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-2-20.输入设定.png"><img alt="../_images/1-2-20.输入设定.png" class="align-center" src="../_images/1-2-20.输入设定.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-2-21.隐私设定.png"><img alt="../_images/1-2-21.隐私设定.png" class="align-center" src="../_images/1-2-21.隐私设定.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-2-22.在线账号.png"><img alt="../_images/1-2-22.在线账号.png" class="align-center" src="../_images/1-2-22.在线账号.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-2-23.准备好了.png"><img alt="../_images/1-2-23.准备好了.png" class="align-center" src="../_images/1-2-23.准备好了.png" style="width: 250px;" /></a>
<p>出现【Getting Started】界面时，单击屏幕右上角的【否】关闭屏幕。如果显示桌面，则安装完成。</p>
<a class="reference internal image-reference" href="../_images/1-2-24.第一次使用.png"><img alt="../_images/1-2-24.第一次使用.png" class="align-center" src="../_images/1-2-24.第一次使用.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-2-25.桌面.png"><img alt="../_images/1-2-25.桌面.png" class="align-center" src="../_images/1-2-25.桌面.png" style="width: 250px;" /></a>
</div>
</div>
<div class="section" id="ubuntu">
<h2>1.3 安装 Ubuntu<a class="headerlink" href="#ubuntu" title="永久链接至标题">¶</a></h2>
<div class="section" id="id14">
<h3>获取安装介质<a class="headerlink" href="#id14" title="永久链接至标题">¶</a></h3>
<p>如果你需要安装Ubuntu，请从官方网站上的列出的镜像网站链接处下载ISO镜像文件。Ubuntu官方网站的URL请参照以下内容：</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Ubuntu 的官方网站：<a class="reference external" href="https://www.ubuntu.com">https://www.ubuntu.com</a></p>
</div>
<a class="reference internal image-reference" href="../_images/1-3-1.Ubuntu官方网站.png"><img alt="../_images/1-3-1.Ubuntu官方网站.png" class="align-center" src="../_images/1-3-1.Ubuntu官方网站.png" style="width: 600px;" /></a>
<p>Ubuntu的安装与CentOS等RedHat系Linux发行版的安装不同，它是通过复制被压缩的专用读取文件系统SquashFS文件的内容来进行安装的。因此，不需要在安装中选择部署目标，只要从官方网站的【Download】菜单中寻找ISO镜像种类的连接，根据部署目标（也有服务器版本的）选择进行下载。</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 21%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>种类</p></th>
<th class="head"><p>部署目标</p></th>
<th class="head"><p>补充</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>台式机</p></td>
<td><p>使用标准配置安装</p></td>
<td><p>面向一般用户，通过GUI安装；安装GNOME做桌面环境</p></td>
</tr>
<tr class="row-odd"><td><p>服务器</p></td>
<td><p>使用最小配置安装</p></td>
<td><p>面向服务器用途，通过CUI安装；在安装过程中选择服务器所需软件</p></td>
</tr>
</tbody>
</table>
<p>在本书中，使用“桌面”（Ubuntu Desktop）。下面详细说明使用“ubuntu-18.04-desktop-amd64.iso”的安装过程。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>目前 Ubuntu 的版本每六个月更新一次（本书使用的是“18.04”）。另外，要使用“Ubuntu-18.04-desktop”，最低配置需要2GB的内存。其他硬件条件请参考下方URL：
<a class="reference external" href="https://www.ubuntu.com/download/desktop">https://www.ubuntu.com/download/desktop</a></p>
</div>
</div>
<div class="section" id="id15">
<h3>安装顺序<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h3>
<p>本书采用系统安装程序提供的默认安装，在每个章节都会提出需要附加的软件包和设置。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>需要使用VMware Workstations或Virtual Box在虚拟环境中安装Ubuntu时，请参照本书第十一章。</p>
</div>
<ol class="arabic">
<li><p>启动安装程序</p>
<blockquote>
<div><p>从下载的ISO镜像文件中启动安装程序。首先，选择要在安装程序中显示的语言。现在，在安装界面左侧栏中选择【中文（简体）】。</p>
<p>当显示内容为简体中文时，单击【安装Ubuntu】。</p>
<a class="reference internal image-reference" href="../_images/1-3-2.欢迎.png"><img alt="../_images/1-3-2.欢迎.png" class="align-center" src="../_images/1-3-2.欢迎.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
<li><p>选择键盘布局</p>
<blockquote>
<div><p>在键盘布局的界面中，选择当前输入使用的键盘类型。这里选择【中文】。</p>
<a class="reference internal image-reference" href="../_images/1-3-3.键盘布局.png"><img alt="../_images/1-3-3.键盘布局.png" class="align-center" src="../_images/1-3-3.键盘布局.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
<li><p>选择要安装的程序</p>
<blockquote>
<div><p>在【更新和其他软件】的界面中，选择【正常安装】。【正常安装】中包含办公程序包组和其他方便使用的软件。</p>
<a class="reference internal image-reference" href="../_images/1-3-6.更新和其他软件.png"><img alt="../_images/1-3-6.更新和其他软件.png" class="align-center" src="../_images/1-3-6.更新和其他软件.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
<li><p>选择安装类型</p>
<blockquote>
<div><p>在【安装类型】界面中，选择【清除整个磁盘并安装Ubuntu】，然后单击界面右下角的【安装】。</p>
<p>此选择将会自动配置分区。</p>
<a class="reference internal image-reference" href="../_images/1-3-4.安装类型.png"><img alt="../_images/1-3-4.安装类型.png" class="align-center" src="../_images/1-3-4.安装类型.png" style="width: 400px;" /></a>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>分区的详细内容，请参照第七章。</p>
</div>
<p>当显示“要在磁盘上更改写入吗？”的确认界面时，单击【继续】。</p>
<a class="reference internal image-reference" href="../_images/1-3-5.将改动写入磁盘.png"><img alt="../_images/1-3-5.将改动写入磁盘.png" class="align-center" src="../_images/1-3-5.将改动写入磁盘.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
<li><p>确认时区</p>
<blockquote>
<div><p>如果界面显示“你在什么地方？”，输入地区，单击【继续】。在这里选择地区为【Shanghai】。</p>
<a class="reference internal image-reference" href="../_images/1-3-7.你在什么地方.png"><img alt="../_images/1-3-7.你在什么地方.png" class="align-center" src="../_images/1-3-7.你在什么地方.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
<li><p>设置普通用户</p>
<blockquote>
<div><p>在Ubuntu中root用户是禁止登录的，所以我们创建一个普通用户来进行登录。</p>
<p>在本书中，普通用户的用户名设置为“ubuntu”，有关普通用户设置的详细信息，请参考下方的表格。输入后，点击【继续】。</p>
<a class="reference internal image-reference" href="../_images/1-3-8.你是谁.png"><img alt="../_images/1-3-8.你是谁.png" class="align-center" src="../_images/1-3-8.你是谁.png" style="width: 400px;" /></a>
<table class="docutils align-default">
<colgroup>
<col style="width: 38%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>设置</p></th>
<th class="head"><p>内容</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>你的名字</p></td>
<td><p>ubuntu</p></td>
</tr>
<tr class="row-odd"><td><p>主机名称</p></td>
<td><p>ubuntu.localdomain</p></td>
</tr>
<tr class="row-even"><td><p>输入用户名</p></td>
<td><p>ubuntu</p></td>
</tr>
<tr class="row-odd"><td><p>输入密码</p></td>
<td><p>Linuxbasic2019</p></td>
</tr>
<tr class="row-even"><td><p>确认密码</p></td>
<td><p>Linuxbasic2019</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
<li><p>安装完成</p>
<blockquote>
<div><p>当显示【完成安装】是，界面右下角会显示【现在重启】。单击【现在重启】，重新启动系统。</p>
<a class="reference internal image-reference" href="../_images/1-3-9.完成安装.png"><img alt="../_images/1-3-9.完成安装.png" class="align-center" src="../_images/1-3-9.完成安装.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="id16">
<h3>登陆<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h3>
<p>登录到您创建的普通用户“ubuntu”，以便查看和更新系统信息。</p>
<p>要使用普通用户“Ubuntu”登录，选择“ubuntu”，然后输入密码。在本书中，“ubuntu”用户的密码为“Linuxbasic2019”。输入后，单击【登录】。</p>
<a class="reference internal image-reference" href="../_images/1-3-11普通用户登录.png"><img alt="../_images/1-3-11普通用户登录.png" class="align-center" src="../_images/1-3-11普通用户登录.png" style="width: 400px;" /></a>
<ul class="simple">
<li><p>用户名：ubuntu</p></li>
<li><p>密码：Linuxbasic2019</p></li>
</ul>
<p>登陆后会显示初始设定画面。在本书中，不进行特殊的设定，请点击【下一步】或【完成】进入桌面。</p>
<a class="reference internal image-reference" href="../_images/1-3-12.欢迎01.png"><img alt="../_images/1-3-12.欢迎01.png" class="align-center" src="../_images/1-3-12.欢迎01.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-3-13.欢迎02.png"><img alt="../_images/1-3-13.欢迎02.png" class="align-center" src="../_images/1-3-13.欢迎02.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-3-14.欢迎03.png"><img alt="../_images/1-3-14.欢迎03.png" class="align-center" src="../_images/1-3-14.欢迎03.png" style="width: 250px;" /></a>
<a class="reference internal image-reference" href="../_images/1-3-15.欢迎04.png"><img alt="../_images/1-3-15.欢迎04.png" class="align-center" src="../_images/1-3-15.欢迎04.png" style="width: 250px;" /></a>
<p>显示【软件更新器】的界面。如果想要立即进行更新，请选择【立即安装】。在本书中，选择【稍后提醒】。</p>
<a class="reference internal image-reference" href="../_images/1-3-16.软件更新器.png"><img alt="../_images/1-3-16.软件更新器.png" class="align-center" src="../_images/1-3-16.软件更新器.png" style="width: 400px;" /></a>
<p>出现桌面界面时，Ubuntu已经完成安装。</p>
<a class="reference internal image-reference" href="../_images/1-3-17.桌面.png"><img alt="../_images/1-3-17.桌面.png" class="align-center" src="../_images/1-3-17.桌面.png" style="width: 400px;" /></a>
</div>
</div>
<div class="section" id="id17">
<h2>1.4 系统的初始化设定<a class="headerlink" href="#id17" title="永久链接至标题">¶</a></h2>
<div class="section" id="id18">
<h3>CentOS的初始化配置<a class="headerlink" href="#id18" title="永久链接至标题">¶</a></h3>
<p>如果您希望在基础安装的CentOS上更好的工作，需要进行如下的操作。</p>
<ul class="simple">
<li><p>查看已安装包信息</p></li>
<li><p>进行更新</p></li>
<li><p>确认SELinux的状态并关闭</p></li>
<li><p>确认防火墙的状态并关闭</p></li>
</ul>
<p>另外，后面的操作都是在命令行中进行说明，请启动虚拟终端。</p>
<p>从CentOS上方导航栏左侧点击活动，进入启动器界面，在左侧启动栏中找到终端图标，然后单击启动虚拟终端。</p>
<a class="reference internal image-reference" href="../_images/1-4-1.启动器界面.png"><img alt="../_images/1-4-1.启动器界面.png" class="align-center" src="../_images/1-4-1.启动器界面.png" style="width: 400px;" /></a>
<ul>
<li><p>查看已安装包信息</p>
<blockquote>
<div><p>在安装CentOS时，本书选择“带GUI的服务器”作为选择软件。这是根据使用目的功能组合的包组之一。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>有关包的详细信息，请参考第六章。</p>
</div>
<p>如果要显示包组的列表，执行`dnf groups list`即可。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># dnf group list
上次元数据过期检查：0:53:31 前，执行于 2019年11月17日 星期日 00时22分49秒。
可用环境组：
服务器
最小安装
工作站
虚拟化主机
定制操作系统
已安装的环境组：
带 GUI 的服务器
已安装组：
容器管理
无头系统管理
可用组：
.NET 核心开发
RPM 开发工具
智能卡支持
开发工具
图形管理工具
...省略...
</pre></div>
</div>
<p>要查看每个包组中包含哪些软件包，请在命令`dnf group info`命令中指定包组的名称。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># dnf groups info &quot;带 GUI 的服务器&quot;
上次元数据过期检查：0:55:58 前，执行于 2019年11月17日 星期日 00时22分49秒。
环境组：带 GUI 的服务器
描述：集成的易于管理的带有图形界面的服务器
no group &#39;dns-server&#39; from environment &#39;graphical-server-environment&#39;
必选软件包组：
Common NetworkManager submodules
Container Management
Core
Fonts
GNOME
Guest Desktop Agents
Hardware Monitoring Utilities
Hardware Support
...省略...
可选软件包组：
Basic Web Server
Debugging Tools
FTP Server
File and Storage Server
Guest Agents
Infiniband Support
Mail Server
...省略...
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>进行更新</p>
<blockquote>
<div><p>CentOS经常进行软件包的故障分析和功能改进，这些更新的软件包都是通过存储库提供的。通过存储库更新软件包可以使用`dnf update`命令。命令执行后将会注册存储库信息与当前已安装的软件包进行比较并校验差异，然后下载并安装需要更新的软件包。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>有关存储库的更多信息，请参考第六章。</p>
</div>
<p><cite>dnf update</cite> 运行后会出现是否安装的确认信息，如果确认安装请输入`Y`或`y`。当所需更新的安装包安装完成后，将会显示“已完成”的信息。这样更新就结束了。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># dnf update
上次元数据过期检查：1:05:12 前，执行于 2019年11月17日 星期日 00时22分49秒。
依赖关系解决。
====================================================================================================
软件包                          架构   版本                                        仓库       大小
====================================================================================================
Installing:
kernel                          x86_64 4.18.0-80.11.2.el8_0                        BaseOS    424 k
kernel-core                     x86_64 4.18.0-80.11.2.el8_0                        BaseOS     24 M
kernel-modules                  x86_64 4.18.0-80.11.2.el8_0                        BaseOS     20 M
Upgrading:
...省略...
完毕！
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>确认SELinux的状态并关闭</p>
<blockquote>
<div><p>SELinux是具有对安全管理者以外的用户不能变更的强制的访问控制方式和对每个进程的文件等资源的访问进行限制的Type Enforcement，以及限制包括root在内的所有用户的角色的卷库访问控制和功能。</p>
<p>应为可以加强系统的安全性，所以在互联网中的服务器运用方面有好处，但是在可以信赖的内部网络环境中的使用、以及作为开发环境和测试环境使用时，也有关闭的情况。在这里，将介绍关闭SELinux的一种方法。</p>
<p>SELinux具有以下三种状态：</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SELinux状态</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>enforcing</p></td>
<td><p>生效状态</p></td>
</tr>
<tr class="row-odd"><td><p>permissive</p></td>
<td><p>无效状态，但SELinux日志处于记录状态</p></td>
</tr>
<tr class="row-even"><td><p>disabled</p></td>
<td><p>无效状</p></td>
</tr>
</tbody>
</table>
<p>要检查SELinux当前的状态，请执行`genenforce`命令。要确认更详细的信息，请执行`sestatus`命令。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># getenforce ➜ 查看SELinux当前状态
Enforcing    ➜ SELinux生效
# sestatus   ➜ 查看SELinux更详细的内容
SELinux status:                 enabled
SELinuxfs mount:                /sys/fs/selinux
SELinux root directory:         /etc/selinux
Loaded policy name:             targeted
Current mode:                   enforcing
Mode from config file:          enforcing
Policy MLS status:              enabled
Policy deny_unknown status:     allowed
Memory protection checking:     actual (secure)
Max kernel policy version:      31
</pre></div>
</div>
<p>要禁用SELinux，请执行以下的操作：</p>
<ul>
<li><p>临时禁用</p>
<blockquote>
<div><p>如果需要临时（在系统重启前生效）禁用SELinux，在`setenforce`命令后追加`0`。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># getenforce ➜ 查看SELinux当前状态
Enforcing    ➜ SELinux生效
# setenforce 0  ➜ 关闭SELinux
# getenforce    ➜ 查看SELinux当前状态
Permissive   ➜ SELinux关闭
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>永久禁用</p>
<blockquote>
<div><p>如果需要永久禁用SELinux，在`/etc/selinux/config`文件中的以“SELINUX”开头的所在行中将“enforcing”修改为“permissive”或“disabled”并重启系统。在下面的示例中，您已经将配置文件中“permissive”修改为“disabled”。更改后，通过`reboot`命令重启系统。</p>
<p>请注意，在这个示例中，通过vi编辑器来编辑文件。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>有关vi命令的内容，请参考第三章。</p>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># vi /etc/selinux/config
...以下为vi编辑器显示内容...
# This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
#SELINUX=enforcing ➜ 注释此行，在行首添加#号
SELINUX=disabled   ➜ 添加此行
# SELINUXTYPE= can take one of these three values:
#     targeted - Targeted processes are protected,
#     minimum - Modification of targeted policy. Only selected processes are protected.
#     mls - Multi Level Security protection.
SELINUXTYPE=targeted
...编辑结束...
# reboot
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>确认防火墙状态并关闭</p>
<blockquote>
<div><p>防火墙是组织来自网络的未经授权的访问机制。在导入时，只允许访问特定的端口号。</p>
<p>互联网上的服务器操作等是必须的功能，但与SELinux一样，在作为可靠的内部网络的使用、开发环境和测试环境中使用时，您可能需要禁用该选项。本节介绍如何禁用防火墙。</p>
<p>Linux的防火墙功能是由内核模块Netfilter提供的。从CentOS6到CentOS7为止的设定使用程序是iptables。CentOS8中则使用的是nftables。nftables是新的数据包分类框架，新的linux防火墙管理程序，旨在替代现存的 {ip,ip6,arp,eb}_tables。它拥有一些高级的类似编程语言的能力，例如定义变量和包含外部文件，即拥有使用额外脚本的能力。CentOS8同样可以使用firewalld管理防火墙。</p>
<p>&gt; firewalld 提供了多个不同的安全强度设置模板，称为“区域”，通过选择符合您要连接的网络的可靠性的区域，可以方便的设置。有关firewalld更多的信息，请参考第十章。</p>
<p>现在的防火墙的状态，使用firewalld命令确认。默认情况下，只允许cockpit、ssh和DHCPv6客户端。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># firewall-cmd --list-service --zone=public
cockpit dhcpv6-client ssh
</pre></div>
</div>
<p>要停止防火墙，请运行systemctl命令。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># systemctl stop firewalld.service
# firewall-cmd --list-service --zone=public ➜ 检查防火墙
FirewallD is not running
</pre></div>
</div>
<p>运行上述命令，您可以停止运行防火墙，但在重启系统后，firewalld将自动启动。要避免重启后防火墙自动启动，请执行以下命令：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># systemctl disable firewalld.service
Removed /etc/systemd/system/multi-user.target.wants/firewalld.service.
Removed /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id19">
<h3>Ubuntu初始化设定<a class="headerlink" href="#id19" title="永久链接至标题">¶</a></h3>
<p>在使用Ubuntu的基础上，记载了是要做好的工作。进行操作如下：</p>
<ul class="simple">
<li><p>确认已安装包的信息</p></li>
<li><p>进行更新</p></li>
<li><p>确认AppArmor的运行状态</p></li>
<li><p>检查防火墙的状态</p></li>
</ul>
<p>另外，为了在命令行中说明后面的操作，先启动虚拟终端。</p>
<p>在Ubuntu的桌面上，点击【显示应用程序】图标，滚动表所示的图标一览表，选择【终端】。</p>
<a class="reference internal image-reference" href="../_images/1-4-2.显示应用程序.png"><img alt="../_images/1-4-2.显示应用程序.png" class="align-center" src="../_images/1-4-2.显示应用程序.png" style="width: 400px;" /></a>
<a class="reference internal image-reference" href="../_images/1-4-3.图标一览表.png"><img alt="../_images/1-4-3.图标一览表.png" class="align-center" src="../_images/1-4-3.图标一览表.png" style="width: 400px;" /></a>
<ul>
<li><p>确认已安装包的信息</p>
<blockquote>
<div><p>要查看系统中已经安装的所有软件包，请使用dpkg命令。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>有关包的详细信息，请参考第六章。</p>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># dpkg -l | more
期望状态=未知(u)/安装(i)/删除(r)/清除(p)/保持(h)
| 状态=未安装(n)/已安装(i)/仅存配置(c)/仅解压缩(U)/配置失败(F)/不完全安装(H)/触发器等待(W)/触发器未决(T)
|/ 错误?=(无)/须重装(R) (状态，错误：大写=故障)
||/ 名称                                       版本                                         体系结构     描述
+++-==========================================-============================================-============-===============================================================================
ii  accountsservice                            0.6.45-1ubuntu1                              amd64        query and manipulate user account information
ii  acl                                        2.2.52-3build1                               amd64        Access control list utilities
ii  acpi-support                               0.142                                        amd64        scripts for handling many ACPI events
ii  acpid                                      1:2.0.28-1ubuntu1                            amd64        Advanced Configuration and Power Interface event daemon
ii  adduser                                    3.116ubuntu1                                 all          add and remove users and groups
ii  adium-theme-ubuntu                         0.3.4-0ubuntu4                               all          Adium message style for Ubuntu
ii  adwaita-icon-theme                         3.28.0-1ubuntu1                              all          default icon theme of GNOME (small subset)
ii  aisleriot                                  1:3.22.5-1                                   amd64        GNOME solitaire card game collection
...省略...
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>进行更新</p>
<blockquote>
<div><p>Ubuntu经常进行故障修复和功能改善，它们是通过存储库提供的。首先更新在本地管理的包索引后，更新session。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>关于存储库的更多信息，请参考第六章。</p>
</div>
<p>运行`sudo apt update`命令可以更新本地软件包索引。运行时，将显示可更新的软件包的数量。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ sudo apt update
[sudo] ubuntu 的密码：
命中:1 http://cn.archive.ubuntu.com/ubuntu bionic InRelease
获取:2 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]
获取:3 http://cn.archive.ubuntu.com/ubuntu bionic-updates InRelease
...省略...
获取:19 http://cn.archive.ubuntu.com/ubuntu bionic-backports/universe amd64 DEP-11 Metadata [7,976 B]
已下载 1,950 kB，耗时 14秒 (136 kB/s)
正在读取软件包列表... 完成
正在分析软件包的依赖关系树
正在读取状态信息... 完成
有 209 个软件包可以升级。请执行 ‘apt list --upgradable’ 来查看它们。
</pre></div>
</div>
<p>然后执行`sudo apt upgrade`命令进行软件包的升级更新。在安装前会出现“是否安装”的确认提示，确认安装请输入“Y”或“y”。这样更新就结束了。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ sudo apt upgrade
正在读取软件包列表... 完成
正在分析软件包的依赖关系树
正在读取状态信息... 完成
正在计算更新... 完成
下列【新】软件包将被安装：
...省略...
升级了 209 个软件包，新安装了 5 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。
需要下载 225 MB/386 MB 的归档。
解压缩后会消耗 332 MB 的额外空间。
您希望继续执行吗？ [Y/n] y   ➜ 输入【y】
...省略...
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>确认AppArmor状态</p>
<blockquote>
<div><p>在Ubuntu中，AppArmor比SELinux更容易设置，以增强系统的安全性。以程序为单位进行强制访问控制。</p>
<p>要进行AppArmor的状态确认，运行systemctl命令。从以下的执行结果可知启动中（Active）。本书将保持有效。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ systemctl status apparmor.service
● apparmor.service - AppArmor initialization
Loaded: loaded (/lib/systemd/system/apparmor.service; enabled; vendor preset: enabled)
Active: active (exited) since Sun 2019-11-17 13:34:04 CST; 2h 26min ago
    Docs: man:apparmor(7)
        http://wiki.apparmor.net/
Main PID: 433 (code=exited, status=0/SUCCESS)
    Tasks: 0 (limit: 4646)
CGroup: /system.slice/apparmor.service
...忽略...
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>确认防火墙状态</p>
<blockquote>
<div><p>在Ubuntu中，安装时不包含firewalld，如果要使用，请运行`apt install firewalld`命令进行安装。默认情况下，提供了一个名为“ufw”（Uncomplicate FireWall）的命令。</p>
<p>要查看防火墙的当前状态，请运行`sudo ufw status`命令。在下面的执行结果中，您可以看到它处于非互动状态（已停止）。本文档将保持非活动状态。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ sudo ufw status
状态：不活动
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>有关ufw命令的详细信息，请参考第十章。</p>
</div>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="ssh">
<h2>1.5 通过 SSH 远程登录<a class="headerlink" href="#ssh" title="永久链接至标题">¶</a></h2>
<div class="section" id="id20">
<h3>远程登录<a class="headerlink" href="#id20" title="永久链接至标题">¶</a></h3>
<p>从本地主机（用户直接登录的主机）登录到网络上的其他主机（远程主机），将其称为远程登录。</p>
<a class="reference internal image-reference" href="../_images/1-5-1.远程登录.png"><img alt="../_images/1-5-1.远程登录.png" class="align-center" src="../_images/1-5-1.远程登录.png" style="width: 400px;" /></a>
<p>远程登录的指令有很多。</p>
<ul>
<li><p>telnet</p>
<blockquote>
<div><p>telnet命令可以在远程主机上运行telnet服务时使用。当您访问远程主机时，就会和登录本地主机时一样发生登录认证。因此输入在远程主机上设定的用户名和密码。另外，由于通信内容是普通文本（明文），所以如果通信线路被窃听的话，就可以很容易地明确账号和密码。</p>
</div></blockquote>
</li>
<li><p>ssh</p>
<blockquote>
<div><p>ssh命令和telnet命令一样，是可以登录到远程主机的命令，访问远程主机时，登录验证将与登录到本地主机时一样。但是，与telnet不同，使用公钥密码对所有包含密码的通信内容进行加密。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>关于公钥密码信息，请参考第十章。</p>
</div>
</div></blockquote>
</li>
</ul>
<p>ssh命令是免费安装的OpenSSH客户端命令，服务器是sshd。OpenSSH由OpenBSD项目开发。</p>
</div>
<div class="section" id="sshd">
<h3>确认sshd启动<a class="headerlink" href="#sshd" title="永久链接至标题">¶</a></h3>
<p>本书介绍ssh进行远程登录。另外，在登录目标的主机（服务器）中，由于以sshd启动为前提，所以确认CentOS以及Ubuntu中的sshd的启动不存在。</p>
<ul>
<li><p>CentOS的sshd</p>
<blockquote>
<div><p>在CentOS中，sshd已经安装完毕，并且开机自动启动，因此没有服务器端设置。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># systemctl status sshd
● sshd.service - OpenSSH server daemon
Loaded: loaded (/usr/lib/systemd/system/sshd.service; enabled; vendor preset: enabled)
Active: active (running) since Sun 2019-11-17 00:15:00 EST; 3h 11min ago
    Docs: man:sshd(8)
        man:sshd_config(5)
Main PID: 1126 (sshd)
    Tasks: 1 (limit: 23619)
Memory: 4.6M
CGroup: /system.slice/sshd.service
        └─1126 /usr/sbin/sshd -D -oCiphers=aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes256-ctr&gt;
...忽略...
</pre></div>
</div>
<p>另外，sshd在初始设定中使用22号端口。远程登录时，除了远程主机名之外，还提供了访问此端口号所需的信息。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># netstat -tlnp</span>
Active Internet connections <span class="o">(</span>only servers<span class="o">)</span>
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">192</span>.168.122.1:53        <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">2568</span>/dnsmasq
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">0</span>.0.0.0:22              <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">1126</span>/sshd
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">127</span>.0.0.1:631           <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">8018</span>/cupsd
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">0</span>.0.0.0:111             <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">1</span>/systemd
tcp6       <span class="m">0</span>      <span class="m">0</span> :::22                   :::*                    LISTEN      <span class="m">1126</span>/sshd
tcp6       <span class="m">0</span>      <span class="m">0</span> ::1:631                 :::*                    LISTEN      <span class="m">8018</span>/cupsd
tcp6       <span class="m">0</span>      <span class="m">0</span> :::111                  :::*                    LISTEN      <span class="m">1</span>/systemd
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Uubuntu的sshd</p>
<blockquote>
<div><p>由于在Ubuntu中没有安装sshd，所以运行以下命令进行安装。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>sshd被提供为openssh-server程序包。有关软件包的更多信息，请参考第六章内容。</p>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ dpkg -l | grep openssh-server
$                                   ➜ 确认OpenSSH未安装
$ sudo apt install openssh-server   ➜ 安装
[sudo] ubuntu 的密码：
正在读取软件包列表... 完成
正在分析软件包的依赖关系树
正在读取状态信息... 完成
...省略...
您希望继续执行吗？ [Y/n] y   ➜ 输入【y】
</pre></div>
</div>
<p>安装完成后，请检查sshd的状态。在下面的执行结果中，您可以看到它是启动（Active）的。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ sudo systemctl status sshd
● ssh.service - OpenBSD Secure Shell server
Loaded: loaded (/lib/systemd/system/ssh.service; enabled; vendor preset: enabled)
Active: active (running) since Sun 2019-11-17 15:40:49 CST; 56min ago
Main PID: 4814 (sshd)
    Tasks: 1 (limit: 4646)
CGroup: /system.slice/ssh.service
        └─4814 /usr/sbin/sshd -D
...忽略...
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id21">
<h3>ssh远程登录<a class="headerlink" href="#id21" title="永久链接至标题">¶</a></h3>
<p>那么，从本地主机（客户端）进行远程登录。由于CentOS和Ubuntu的方法都是相同的。所以在此记载CentOS的运行结果。</p>
<ul>
<li><p>ssh命令示例</p>
<blockquote>
<div><p>如果本地主机（客户端）是Linux，请使用ssh命令。例如，在以下前提下执行：</p>
<ul class="simple">
<li><p>客户端的主机名为“centos-1.localdomain”，服务器的主机名为“centos-2.localdomain”</p></li>
<li><p>客户端的IP地址为“10.0.2.16”，服务器的IP地址为“10.0.2.15”</p></li>
<li><p>客户端主机以“centos”的身份登录</p></li>
<li><p>作为“centos”远程登录到服务器主机</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/1-5-2.ssh远程登录.png"><img alt="../_images/1-5-2.ssh远程登录.png" class="align-center" src="../_images/1-5-2.ssh远程登录.png" style="width: 400px;" /></a>
<p>首先，请先看示例一。ssh命令后，指定主机名。由于省略了用户名，因此使用客户端的当前用户名（在此为“centos”）。此外，首次连接到主机时，OpenSSH将显示一条警告信息，如果出现警告，请输入“yes”。</p>
<p>如上述示例所示，登录成功，操作结束后注销登录。要注销，请运行`exit`命令。</p>
<p>接下来，请看示例二。也可以指定IP地址而不是主机名。另外，登录时指定用户名时，指定为“-l 用户名”。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[centos@centos-2 ~]$ ssh -l centos 10.0.2.15
...省略...
</pre></div>
</div>
<p>&gt; 示例中的centos&#64;centos-2提示意味着用户centos已经登录到主机centos-2。此外，“#”表示当前用户为root，“$”是以普通用户身份登录的，相关内容请参考第三章。</p>
</div></blockquote>
</li>
<li><p>从Windows远程登录到Linux主机</p>
<blockquote>
<div><p>由于Microsoft Windows中（根据使用的版本不同）不包含SSH客户端，所以提供了几个用于Windows的SSH客户端，包括免费、商用。如果导入这些的话，可以通过SSH从Windows远程操作Linux主机。在本书中，将对Windows中使用的SSH客户端之一的PuTTY的使用方法进行说明。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>PuTTY是一款集成虚拟终端、系统控制台和网络文件传输为一体的自由及开放源代码的程序。它支持多种网络协议，包括SCP，SSH，Telnet，rlogin和原始的套接字连接。它也可以连接到串行端口。其软件名字“PuTTY”没有特殊含义。更详细的内容请参考下方的URL：
<a class="reference external" href="https://www.putty.org/">https://www.putty.org/</a></p>
</div>
<ul>
<li><p>启动PuTTY</p>
<blockquote>
<div><p>双击桌面“PuTTY”快捷方式，当桌面没有快捷方式时，请从开始菜单启动。</p>
<img alt="../_images/1-5-3.PuTTY.png" class="align-center" src="../_images/1-5-3.PuTTY.png" />
</div></blockquote>
</li>
<li><p>指定目标</p>
<blockquote>
<div><p>运行 PuTTY 就可以看到如下界面：</p>
<a class="reference internal image-reference" href="../_images/1-5-4.PuTTY_view.png"><img alt="../_images/1-5-4.PuTTY_view.png" class="align-center" src="../_images/1-5-4.PuTTY_view.png" style="width: 400px;" /></a>
<p>在“Host Name(or IP Address)” 框内输入服务器的 IP 或主机名，选择SSH协议，SSH 协议默认端口为22，如果你修改了 SSH 协议的端口号，记得修改此处端口号。如果希望把这次的输入保存起来，方便以后再次登录，可以在“Saved Sessions”框内输入会话保存的名称，比如“Web Server”，之后点击保存即可。</p>
<a class="reference internal image-reference" href="../_images/1-5-5.PuTTY_login_01.png"><img alt="../_images/1-5-5.PuTTY_login_01.png" class="align-center" src="../_images/1-5-5.PuTTY_login_01.png" style="width: 400px;" /></a>
<p>最后点下面的 “Open” 按钮，输入正确的用户名和密码，就可以登录服务器了。首次登录一台主机时会看到这个安全告警的对话框：</p>
<a class="reference internal image-reference" href="../_images/1-5-6.PuTTY_Security_Alert.png"><img alt="../_images/1-5-6.PuTTY_Security_Alert.png" class="align-center" src="../_images/1-5-6.PuTTY_Security_Alert.png" style="width: 400px;" /></a>
<p>这是要告诉你登录的主机密钥指纹，点“是”就保存起来，以后就不会再弹出这个窗口，然后就正常登录。点击“否”不保存，下次登录还会弹出这个对话框，但是也可以正常登录。点击“取消”则取消此次登录。</p>
<a class="reference internal image-reference" href="../_images/1-5-7.PuTTY_login_02.png"><img alt="../_images/1-5-7.PuTTY_login_02.png" class="align-center" src="../_images/1-5-7.PuTTY_login_02.png" style="width: 400px;" /></a>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="《Linux 基础实践入门》" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../Chapter_2/2.start_and_stop_linux.html" class="btn btn-neutral float-right" title="第二章 Linux的启动和停止" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2019, renkeju.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>