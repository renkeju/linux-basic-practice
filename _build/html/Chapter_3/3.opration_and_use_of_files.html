
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <title>第三章 文件的操作与使用 &#8212; 《Linux 基础实践入门》 alpha 文档</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="附录A 创建虚拟环境" href="../Appendix_A/A.Create_a_virtual_environment.html" />
    <link rel="prev" title="第二章 Linux的启动和停止" href="../Chapter_2/2.start_and_stop_linux.html" />
<link rel="stylesheet" type="text/css" href="../_static/handsontable.full.min.css">
<script src="../_static/handsontable.full.min.js"></script>

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>第三章 文件的操作与使用<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<div class="section" id="linux">
<h2>3.1 了解Linux目录结构<a class="headerlink" href="#linux" title="永久链接至标题">¶</a></h2>
<div class="section" id="id2">
<h3>树状结构与各目录的作用<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h3>
<p>FHS（Filesystem Hierarchy Sttandard）是规定目录结构标准的规范。在多数Linux发行版中，都以FHS为基础进行目录和文件的配置。</p>
<p>在FHS中，除了定义目录名称之外，还规定了各目录的作用、包含的文件的种类、文件的配置等。因此，通过理解FHS中提倡的规范目录结构，可以掌握Linux中常用的必要的文件所在位置，新建的配置文件的放置位置。</p>
<p>此外，在FHS中，可以通过“可共享”(Shareable)、“不可共享”(Unshareable)、“静态”(Static)或“可变更”（Variable）来分配要放置文件的目录。</p>
<table class="colwidths-given docutils align-default" id="id21">
<caption><span class="caption-text">文件的分类</span><a class="headerlink" href="#id21" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>分类</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>可共享</p></td>
<td><p>可通过网络共享的文件，例如应用程序、库等</p></td>
</tr>
<tr class="row-odd"><td><p>不可共享</p></td>
<td><p>无法通过网络共享的文件，例如锁定文件等</p></td>
</tr>
<tr class="row-even"><td><p>静态</p></td>
<td><p>除了系统管理员的操作，其他操作不能变更的文件。例如二进制命令、库、文档等</p></td>
</tr>
<tr class="row-odd"><td><p>可变更</p></td>
<td><p>系统运行中可变更的文件，例如日志文件、登录用户的信息文件、锁定文件等</p></td>
</tr>
</tbody>
</table>
<table class="colwidths-given docutils align-default" id="id22">
<caption><span class="caption-text">目录示例</span><a class="headerlink" href="#id22" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 27%" />
<col style="width: 36%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>可共享</p></th>
<th class="head"><p>不可共享</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>静态</p></td>
<td><p>/usr /opt</p></td>
<td><p>/etc /boot</p></td>
</tr>
<tr class="row-odd"><td><p>可变更</p></td>
<td><p>/var/mail /var/spool/news</p></td>
<td><p>/var/run /var/lock</p></td>
</tr>
</tbody>
</table>
<p>例如，/var作为系统运行中的文件可被更新、追加、删除的目录。在/var/mail目录下，每个用户都相对应有一个文件。另外，/var/lock 是为了在文件的读写等过程中进行排他控制而指定使用的目录。</p>
<p>FHS是以根(/)为起点的单一的树状结构目录，“/”下配置了与目录相对应的目录层级。</p>
<img alt="../_images/文件的树状结构.png" class="align-center" src="../_images/文件的树状结构.png" />
<p>主要的目录和租用如下表所示：</p>
<table class="colwidths-given docutils align-default" id="id23">
<caption><span class="caption-text">目录和作用</span><a class="headerlink" href="#id23" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>目录</p></th>
<th class="head"><p>作用</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>/</p></td>
<td><p>相当于文件系统定点的目录</p></td>
</tr>
<tr class="row-odd"><td><p>/bin</p></td>
<td><p>一般用户、管理者使用的命令（可执行二进制文件）所在目录</p></td>
</tr>
<tr class="row-even"><td><p>/dev</p></td>
<td><p>放置设备配置文件的目录，此目录下的文件由系统引导时检查连接的设备并自动创建</p></td>
</tr>
<tr class="row-odd"><td><p>/etc</p></td>
<td><p>用于管理系统的配置文件和各种软件的配置文件的目录</p></td>
</tr>
<tr class="row-even"><td><p>/lib</p></td>
<td><p>为/bin和/sbin目录下的命令和程序提供可利用的库的目录</p></td>
</tr>
<tr class="row-odd"><td><p>/lib/modules</p></td>
<td><p>存放内核模块配置的目录</p></td>
</tr>
<tr class="row-even"><td><p>/media</p></td>
<td><p>数据目录，如CD/DVD</p></td>
</tr>
<tr class="row-odd"><td><p>/opt</p></td>
<td><p>在Linux安装完成后，此目录可以部署额外安装的软件包（软件）</p></td>
</tr>
<tr class="row-even"><td><p>/proc</p></td>
<td><p>该目录存储运行内核和进程保留的信息，由于是虚拟文件系统，所以文件并不存在</p></td>
</tr>
<tr class="row-odd"><td><p>/root</p></td>
<td><p>root用户的主目录</p></td>
</tr>
<tr class="row-even"><td><p>/sbin</p></td>
<td><p>该目录主要存放由系统管理员使用的命令，但根据额外选项一般用户也可以使用</p></td>
</tr>
<tr class="row-odd"><td><p>/tmp</p></td>
<td><p>配置应用程序或用户使用的临时文件目录</p></td>
</tr>
<tr class="row-even"><td><p>/var</p></td>
<td><p>该目录存放在系统运行中各种程序配置发生变化的文件</p></td>
</tr>
<tr class="row-odd"><td><p>/var/log</p></td>
<td><p>该目录存放系统或程序的日志文件</p></td>
</tr>
<tr class="row-even"><td><p>/boot</p></td>
<td><p>该目录存放系统启动时需要的引导加载程序相关的文件和内核镜像</p></td>
</tr>
<tr class="row-odd"><td><p>/usr</p></td>
<td><p>该目录存放用户共享的数据，例如应用程序、库、命令等</p></td>
</tr>
<tr class="row-even"><td><p>/usr/bin</p></td>
<td><p>该目录存放一般用户、管理者使用的命令</p></td>
</tr>
<tr class="row-odd"><td><p>/usr/lib</p></td>
<td><p>该目录存放各种命令使用的库</p></td>
</tr>
<tr class="row-even"><td><p>/usr/sbin</p></td>
<td><p>该目录存放仅系统管理员可使用的命令</p></td>
</tr>
<tr class="row-odd"><td><p>/home</p></td>
<td><p>一般用户的主目录</p></td>
</tr>
</tbody>
</table>
<p>要查看文件系统中的目录详细信息，请运行“man hier”命令。有关man命令的信息，请参考下面的内容：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># man hier
HIER(7)                             Linux Programmer&#39;s Manual                            HIER(7)

NAME
    hier - description of the filesystem hierarchy

DESCRIPTION
    A typical Linux system has, among others, the following directories:

    /      This is the root directory.  This is where the whole tree starts.

    /bin   This  directory  contains executable programs which are needed in single user mode
            and to bring the system up or repair it.

    /boot  Contains static files for the boot loader.  This directory holds  only  the  files
            which  are  needed  during  the boot process.  The map installer and configuration
            files should go to /sbin and /etc.  The operating system kernel (initrd for  exam‐
            ple) must be located in either / or /boot.

    /dev   Special or device files, which refer to physical devices.  See mknod(1).

    /etc   Contains configuration files which are local to the machine.  Some larger software
            packages, like X11, can have their own subdirectories below /etc.  Site-wide  con‐
            figuration files may be placed here or in /usr/etc.  Nevertheless, programs should
            always look for these files in /etc and you may have  links  for  these  files  to
            /usr/etc.

...省略...
</pre></div>
</div>
<p>当显示文件的保存位置时，目录和其下面的目录之间，通常是使用“/”（斜杠）进行划分。例如在图 3-1-1 中，var目录下的log目录下的messages文件，其保存位置表示为“/var/log/messages”。</p>
<p>另外，将表示这样的文件位置的信息称为路径。</p>
</div>
<div class="section" id="id3">
<h3>命令提示符<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h3>
<p>登录到Linux的用户将位于目录结构中的当前用户的主目录位置。然后，用户就可以使用命令执行某些操作。您可以在屏幕上的命令提示符中查看您当前所在的路径。例如，以下示例将提示您登录的是CentOS主机：</p>
<p><code class="docutils literal notranslate"><span class="pre">[用户名&#64;主机名</span> <span class="pre">当前位置的提示符号]</span></code></p>
<p>如果你使用root用户登录：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[root@centos ~]#
</pre></div>
</div>
<p>如果你使用centos用户登录：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[centos@centos ~]$
</pre></div>
</div>
<p>在“&#64;”符号前是当前用户名，“&#64;”符号后是当前的主机名称，一般主机名称后都会有“~”符号表示当前路径位于当前用户的主目录。</p>
<p>主目录是分配给各用户的作业空间。虽然用户可以在自己的主目录可以随意的读写文件，但是在其他用户的主目录中，只要没有被其他用户赋予权限，就不能进行读写文件。但是，由于root用户具有管理员权限，只有它可以在所有用户的主目录进行读写。</p>
<p>如果要执行任何操作，请在显示的命令提示符下输入需要执行的命令。以下是以root用户身份登录到主机“centos”并运行 pwd 命令的执行过程。pwd命令显示用户当前所在的路径。请注意，root用户的提示符为“#”。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[root@centos ~]# pwd ➜  root用户执行
/root ➜  当前所在目录位置，为/root目录。
</pre></div>
</div>
<p>下面是普通用户“centos”登录并运行pwd命令的示例。注意，一般用户的提示符为“$”。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[centos@centos ~]$ pwd ➜  centos用户执行
/home/centos ➜  当前所在目录位置，一般为 /home 目录下加上用户名组成的路径。
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>在本书中，许多命令执行时都会省略命令提示符的部分内容，仅以“#”或“$”显示。不过这也能表示您使用的是 root 用户或普通用户。</p>
</div>
<p>在 linux 上使用的命令可由普通用户执行，即也可以由无管理员权限的用户执行。</p>
<p>root用户具有管理员权限，但普通用户可以根据需要添加权限。本书尽可能让普通用户执行不需要管理员权限的操作。此外，如果您需要管理员权限，则使用root用户执行命令。</p>
<p>请注意，如果要在登录状态下切换到其他用户或管理员（root），请使用su命令。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>su [可选选项] [-] [用户名称]
</pre></div>
</div>
<p>如果省略用户名，则默认为root。如果不再用户名前使用“-”，则只切换用户，并且登录环境所在目录仍为上一个用户所在目录位置且bash环境也不变。使用“-”可切换用户并使用新用户的环境。</p>
<p>可以使用id命令查看当前用户的所在的有效用户ID与有效组ID。在以下示例中，运行时环境保持为用户zhangsan，并切换为用户lisi。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[zhangsan@centos ~]$ id
uid=1000(zhangsan) gid=1000(zhangsan) groups=1000(zhangsan),100(users)
... 省略 ...
[zhangsan@centos ~]$ su - lisi
密码：
上一次登录：Mon Jan 13 17:28:33 CST 2020从 58.246.147.26pts/0 上
[lisi@centos ~]$ id
uid=1001(lisi) gid=1001(lisi) groups=1001(lisi),100(users)
... 省略 ...
[lisi@centos ~]$ pwd
/home/lisi
</pre></div>
</div>
<p>另外，对于 Ubuntu，普通用户可以通过“sudo su -” 切换root用户。</p>
<div class="section" id="id4">
<h4>自定义命令提示符<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h4>
<p>在bash中，shell变量PS1定义为命令提示符，如第二章中所述。PS2还可以定义为辅助提示符。辅助提示符表示命令尚未完成，并且是连续输入命令时。</p>
<p>以下示例使用辅助提示符：键盘输入 <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-la</span> <span class="pre">/etc/passwd</span></code> 后，请在行尾输入“”以转义换行符。然后可以继续输入，PS2的默认值为“&gt;”。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ls -la /etc/passwd \
&gt; /etc/shadow
-rw-r--r-- 1 root root 1198 Dec 18 19:14 /etc/passwd
---------- 1 root root  822 Dec 18 19:14 /etc/shadow
</pre></div>
</div>
<p>此外，以下示例还显示了如何编辑PS1并自定义命令提示符：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ PS1=&#39;\s-\v\$&#39;
-bash-4.2$ PS1=&#39;[\u@\h \w]\$&#39;
[centos@centos ~]$
</pre></div>
</div>
<p>设置bash命令提示符的默认值，其中“s”是shell的名称，“-”是连字符，“v”是版本，“$”是美元符号。</p>
<p>修改后的命令提示符为“-bash-4.2 $”。之后我们再修改命令提示符显示为“[当前用户名&#64;当前主机名 目录]$”，其中相对应的参数的值，“[”是起始方括号，“u”是当前用户名，“h”是当前主机名，“&#64;”是一个at符号，“w”是当前所在的目录，“]”是结束方括号。</p>
<p>最终我们看到的命令提示符为“[<a class="reference external" href="mailto:centos&#37;&#52;&#48;centos">centos<span>&#64;</span>centos</a> ~]$”</p>
<p>因为这是在当前运行的bash中设置的，所以退出此用户环境后此配置将会消失。需要在下次启动bash时或注销再登录bash时也能生效，请参考第四章内容，通过在“~/.bashrc”或“~/.bash_profile”中添加来实现。</p>
</div>
</div>
<div class="section" id="id5">
<h3>离线文档<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<p>在linux上，有多种命令可供用户使用。离线文档可帮助您了解如何使用命令。离线文档可以打印出命令和文件相关的说明。</p>
<p>要查看离线文档，可以使用man命令。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>man [选项] [章节编号] 命令名称|文件名称等
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id24">
<caption><span class="caption-text">man 命令选项</span><a class="headerlink" href="#id24" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>选项</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-f</p></td>
<td><p>显示在所有手册中的章节中找到的与指定关键字相匹配的内容</p></td>
</tr>
<tr class="row-odd"><td><p>-k</p></td>
<td><p>显示包含指定关键字的文档的章节</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>在man命令格式中带有“|”参数表示您必须指定其中一个参数，例如“命令名称”或“文件名称”。</p>
</div>
<p>如果手册页太长而无法完整的打印在屏幕上，则man命令在打印一个屏幕后会停止打印。因此，要在滚动屏幕打印，请按下列键：</p>
<table class="colwidths-given docutils align-default" id="id25">
<caption><span class="caption-text">man 命令键盘控制</span><a class="headerlink" href="#id25" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>键盘操作</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>space</p></td>
<td><p>显示下一页</p></td>
</tr>
<tr class="row-odd"><td><p>Enter</p></td>
<td><p>显示下一行</p></td>
</tr>
<tr class="row-even"><td><p>b</p></td>
<td><p>显示上一页</p></td>
</tr>
<tr class="row-odd"><td><p>h</p></td>
<td><p>显示帮助</p></td>
</tr>
<tr class="row-even"><td><p>q</p></td>
<td><p>退出man命令</p></td>
</tr>
<tr class="row-odd"><td><p>/字符串</p></td>
<td><p>查找字符串（使用“n”键查找下一个）</p></td>
</tr>
</tbody>
</table>
<p>另外，由于离线文档中有很多项目，因此可能会分为章节或部分。</p>
<table class="colwidths-given docutils align-default" id="id26">
<caption><span class="caption-text">离线文档章节（部分）</span><a class="headerlink" href="#id26" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>部分</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>使用说明</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>系统调用</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>程序库</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>设备文件</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>文件格式</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>解决方法</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>其他</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>系统管理命令</p></td>
</tr>
</tbody>
</table>
<p>在联机文档中，具有相同名称的文档可能位于不同的章节（部分）中。例如：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ man passwd   ➜  ①
... 省略打印内容 ...

$ man -f passwd ➜  ②
passwd (5)           - 密码文件
passwd (1)           - 更改用户密码
passwd (1ssl)        - compute password hashes
</pre></div>
</div>
<p>①在运行man命令时，指定要查看passwd命令。在这种情况下，将显示passwd命令的离线文档，因为它是在不添加任何选项的情况下选定的。</p>
<p>②指定了“-f”选项。因此，查找并显示所有包含关键字“passwd”的章节（部分）。请注意，passwd命令位于第一章节，而记录用户账户内容信息的passwd文件位于第五章节。如果要查看第五章节passwd文件的离线文档，请执行以下操作：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ man 5 passwd
... 省略打印内容 ...
</pre></div>
</div>
</div>
</div>
<div class="section" id="id6">
<h2>3.2 管理文件和目录<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<div class="section" id="id7">
<h3>在命令行中处理文件和目录<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h3>
<p>在命令行中操作文件系统中的文件和目录时，需要了解如何管理这些文件和目录以及管理文件系统的常用命令。</p>
<p>在 Linux 系统中执行操作时，用户必定在文件系统的某个目录位置中。我们一般将当前所处的目录称为当前目录。下图中“zhangsan”是用户zhangsan的初始目录，下面将其作为的那个前目录进行介绍。</p>
<img alt="../_images/3-2-1.目录结构.png" class="align-center" src="../_images/3-2-1.目录结构.png" />
<div class="section" id="id8">
<h4>切换目录<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h4>
<p>cd命令用于在文件系统上切换目录。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd [目录]
</pre></div>
</div>
<p>目录可以是绝对路径，也可以是相对路径。绝对路径从根目录（/）开始，并以斜杠（/）分隔所需目录的路径。此外，相对路径从当前目录，表示所需目录的路径。你可以使用以下目录符号：</p>
<table class="colwidths-given docutils align-default" id="id27">
<caption><span class="caption-text">目录符号</span><a class="headerlink" href="#id27" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>符号</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>~</p></td>
<td><p>初始目录，表示当前执行用户的工作目录。</p></td>
</tr>
<tr class="row-odd"><td><p>.</p></td>
<td><p>当前目录，表示当前执行用户的所处的目录。</p></td>
</tr>
<tr class="row-even"><td><p>..</p></td>
<td><p>父目录，以当前目录为准，表示上一级目录。</p></td>
</tr>
</tbody>
</table>
<p>在图3-2-1中所示的当前所在路径为用户工作目录“/home/zhangsan”，①②③分别表示切换到不同的目录下。如何使用绝对路径或相对路径切换到相同的路径，参考下表。</p>
<table class="colwidths-given docutils align-default" id="id28">
<caption><span class="caption-text">指定cd命令的路径</span><a class="headerlink" href="#id28" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 9%" />
<col style="width: 45%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>编号</p></th>
<th class="head"><p>绝对路径</p></th>
<th class="head"><p>相对路径</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>①</p></td>
<td><p>cd /home</p></td>
<td><p>cd ..</p></td>
</tr>
<tr class="row-odd"><td><p>②</p></td>
<td><p>cd /opt</p></td>
<td><p>cd ../../opt</p></td>
</tr>
<tr class="row-even"><td><p>③</p></td>
<td><p>cd /home/zhangsan/dir_b</p></td>
<td><p>cd dir_b</p></td>
</tr>
</tbody>
</table>
<p>除此之外，如果登陆用户为 zhangsan，无论当前在哪个目录下，使用“cd”，“cd ~”，“cd ~zhangsan” 都将切换到用户工作目录“/home/zhangsan”。但是如果zhangsan用户使用命令“cd ~lisi”，也同样可以切换到用户lisi的工作目录下，但是必须拥有用户lisi工作目录的读写权限才可访问。</p>
</div>
<div class="section" id="id9">
<h4>显示目录路径<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h4>
<p>pwd命令以绝对路径显示当前用户所处的目录位置。</p>
</div>
<div class="section" id="id10">
<h4>查看文件和目录信息<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h4>
<p>ls 命令列出文件和目录信息。如果没有指定目录名称，则默认会列出当前目录的内容。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ls [选项] [目录名...]
ls [选项] [文件名...]
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id29">
<caption><span class="caption-text">ls 命令选项</span><a class="headerlink" href="#id29" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>选项</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-F</p></td>
<td><p>显示表示文件类型符号：“/”是目录，“*”是可执行文件，“&#64;”是链接符号</p></td>
</tr>
<tr class="row-odd"><td><p>-a</p></td>
<td><p>显示隐藏文件（文件名以点“.”开头）</p></td>
</tr>
<tr class="row-even"><td><p>-l</p></td>
<td><p>显示详细信息</p></td>
</tr>
<tr class="row-odd"><td><p>-d</p></td>
<td><p>显示当前目录的信息，而不是当前目录下的内容</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>由于在使用ls命令时，我们可以指定多个文件或目录，因此上面的命令格式中我们使用“…”来表示多个文件或目录。在之后的内容中也会使用相同的表示方法。</p>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ cd /usr ➜ 表示移动到目录/usr
$ ls ➜ 表示查看目录/usr下的内容
bin  etc  games  include  lib  lib64  libexec  local  sbin  share  src  tmp
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h4>打印文件内容<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h4>
<p>more 命令打印指定文件的内容。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>more 文件名称
</pre></div>
</div>
<p>按[Space]键可以显示下一页，并在浏览到文件的最后一页时退出。</p>
</div>
<div class="section" id="id12">
<h4>逐页查看文件内容<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h4>
<p>less命令一额每页为单位显示不能一次性打印在屏幕上的文件。如果不能完全适应屏幕，清按[↑↓]键滚动屏幕。按键操作与 man 命令相同。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>less 文件名称
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h4>查看文件内容<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h4>
<p>cat命令可以显示指定名称的文件的内容。如果指定了多个文件，则会连续显示所有文件。此外，使用“-n”选项会在输出时添加行号。</p>
<p>如果执行cat命令时没有指定任何参数，则cat命令将从标准输入（键盘）中读取数据。在键盘中输入一行内容后，按下[Enter]键就会在屏幕上打印出刚刚输入的内容，然后重复进行操作，直到按下[Ctrl+D]结束。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cat [选项] [文件名称...]
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id30">
<caption><span class="caption-text">cat 命令选项</span><a class="headerlink" href="#id30" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>选项</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-n</p></td>
<td><p>为所有行添加行号</p></td>
</tr>
<tr class="row-odd"><td><p>-T</p></td>
<td><p>将制表符显示为“^”</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id14">
<h4>显示文件内容行首添加行号<a class="headerlink" href="#id14" title="永久链接至标题">¶</a></h4>
<p>nl 命令显示带有行号的文件内容。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nl [选项] [文件名]
</pre></div>
</div>
<p>也可以使用带有“-n”选项的cat命令输出行号。但是，如果包含空行，则显示内容与nl命令有所不同。<code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">-n</span></code> 指定包括空行所有行的行号，而“nl”指定除空行以外的行的行号。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ cat -n sample.txt ➜ 使用 cat 命令显示
1 CentOS
2 Ubuntu
3
4 Mint
$ nl sample.txt ➜ 使用 nl 命令显示
1 CentOS
2 Ubuntu

3 Mint
</pre></div>
</div>
</div>
<div class="section" id="id15">
<h4>创建目录<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h4>
<p>mkdir 命令创建目录。通过在命令参数中指定多个目录名称，可以一次创建多个目录。还可以使用“-p”选项创建路径中包含的目录。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mkdir [选项] 目录名称...
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id31">
<caption><span class="caption-text">mkdir 命令选项</span><a class="headerlink" href="#id31" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>选项</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-m [访问权限]</p></td>
<td><p>创建具有明确访问权限的目录</p></td>
</tr>
<tr class="row-odd"><td><p>-p</p></td>
<td><p>同时创建路径中包含的目录</p></td>
</tr>
</tbody>
</table>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ mkdir dir_x dir_y ← ❶
$ ls -l
总用量 0
drwxr-xr-x. 2 renkeju renkeju 6  2月 18 13:36 dir_x
drwxr-xr-x. 2 renkeju renkeju 6  2月 18 13:36 dir_y
$ mkdir dir_z/sub_z ← ❷
mkdir: 无法创建目录 “dir_z/sub_z”: 没有那个文件或目录
$ mkdir -p dir_z/sub_z ← ❸
$ ls -l
总用量 0
drwxr-xr-x. 2 renkeju renkeju  6  2月 18 13:36 dir_x
drwxr-xr-x. 2 renkeju renkeju  6  2月 18 13:36 dir_y
drwxr-xr-x. 3 renkeju renkeju 19  2月 18 13:37 dir_z ← ❹
$ cd dir_z/sub_z ← ❺
$ pwd
/home/renkeju/dir_z/sub_z
</pre></div>
</div>
<p>❶ 一次创建多个目录</p>
<p>❷ 与子目录一起创建，但由于未指定“-p”选项而出错</p>
<p>❸ 使用“-p”选项重试</p>
<p>❹ 已创建 <code class="docutils literal notranslate"><span class="pre">dir_z/sub_z</span></code></p>
<p>❺ 切换到 <code class="docutils literal notranslate"><span class="pre">dir_z/sub_z</span></code> 目录下</p>
</div>
<div class="section" id="id16">
<h4>创建文件并更改时间戳<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h4>
<p>如果将 touch 命令的参数指定为现有文件名，则会将文件的访问和修改时间更改为 touch 命令的执行时间。此外，如果将参数指定为新文件的名称，则会创建一个新的空文件（大小为0）。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>touch [选项] 文件名称...
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id32">
<caption><span class="caption-text">touch 命令选项</span><a class="headerlink" href="#id32" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>选项</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-t 时间戳</p></td>
<td><p>这里的时间戳并不是当前的时间格式，需要遵循 <code class="docutils literal notranslate"><span class="pre">[[CC]YY]MMDDhhmm[.ss]</span></code> 格式</p></td>
</tr>
<tr class="row-odd"><td><p>-a</p></td>
<td><p>仅变更访问日期和时间</p></td>
</tr>
<tr class="row-even"><td><p>-m</p></td>
<td><p>仅变更更新时间</p></td>
</tr>
</tbody>
</table>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ touch fileA  ← 创建新文件
$ ls -l
总用量 0
-rw-r--r--. 1 renkeju renkeju 0  2月 18 13:48 fileA
$ more fileA  ← 文件内容为空
$ touch -t 05130900 fileA  ← 将时间戳变更为5月13日上午9点
$ ls -l
总用量 0
-rw-r--r--. 1 renkeju renkeju 0  5月 13  2020 fileA
</pre></div>
</div>
</div>
<div class="section" id="id17">
<h4>移动文件和目录<a class="headerlink" href="#id17" title="永久链接至标题">¶</a></h4>
<p>mv命令移动文件和目录，将源文件（或目录）移动到作为mv命令的最后一个参数指定的目录中，此外，如果mv命令的最后一个参数指定的目录不存在，请提前创建此目录。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mv [选项] 源文件名称... 目录目录名称
mv [选项] 源目录名称... 目标目录名称
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id33">
<caption><span class="caption-text">mv 命令选项</span><a class="headerlink" href="#id33" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>选项</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-i</p></td>
<td><p>如果目标目录中存在同名文件，请确认覆盖</p></td>
</tr>
<tr class="row-odd"><td><p>-f</p></td>
<td><p>强制覆盖目标目录中的同名文件</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id18">
<h4>复制文件和目录<a class="headerlink" href="#id18" title="永久链接至标题">¶</a></h4>
<p>要复制文件或目录，请使用cp命令，如果要复制同一个目录或另一个目录的文件，并且要复制到另一个目录中，则源文件和目标文件可以具有相同的名称。您也可以同时复制多个文件。</p>
<p>使用cp命令复制目录时，需要使用“-R”（或“-r”）选项。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cp [选项] 源文件名称 目标文件名称
cp [选项] 源文件名称... 目标目录名称
cp [选项] 源目录名称 目标目录名称
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id34">
<caption><span class="caption-text">cp 命令选项</span><a class="headerlink" href="#id34" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>选项</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-i</p></td>
<td><p>如果目标目录中或目标文件存在同名文件，请确认是否覆盖</p></td>
</tr>
<tr class="row-odd"><td><p>-f</p></td>
<td><p>强制覆盖目标目录中或目标文件的同名文件</p></td>
</tr>
<tr class="row-even"><td><p>-p</p></td>
<td><p>复制信息，包括所有者、时间戳和访问权限</p></td>
</tr>
<tr class="row-odd"><td><p>-R,-r</p></td>
<td><p>原样复制源目录的层次结构</p></td>
</tr>
</tbody>
</table>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ cp fileA fileB ← ❶
$ cp dir_x dir_xx ← ❷
cp: 未指定 -r；略过目录&#39;dir_x&#39;
$ cp -r dir_x dir_xx ← ❸
$ ls -l
总用量 0
drwxr-xr-x. 2 renkeju renkeju  6  2月 18 13:36 dir_x
drwxr-xr-x. 2 renkeju renkeju  6  2月 18 14:15 dir_xx ← ❹
drwxr-xr-x. 2 renkeju renkeju  6  2月 18 13:36 dir_y
drwxr-xr-x. 3 renkeju renkeju 19  2月 18 13:37 dir_z
-rw-r--r--. 1 renkeju renkeju  0  5月 13  2020 fileA
-rw-r--r--. 1 renkeju renkeju  0  2月 18 14:15 fileB ← ❺
</pre></div>
</div>
<p>❶ 复制文件</p>
<p>❷ 尝试复制目录，但由于未指定“-r”选项而出错</p>
<p>❸ 使用“-r”选项重试</p>
<p>❹ 已创建目录“dir_xx”</p>
<p>❺ 步骤❶中创建的“fileB”文件</p>
</div>
<div class="section" id="id19">
<h4>删除文件和目录<a class="headerlink" href="#id19" title="永久链接至标题">¶</a></h4>
<p>使用rm命令删除文件和目录。也可以通过指定多个文件名称一次性删除多个文件。也可以使用“-R”（或“-r”）选项删除目录和目录中的所有文件。还提供rmdir命令删除空目录的命令。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>rm [选项] 文件名称...
rm [选项] 目录名称...
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id35">
<caption><span class="caption-text">rm 命令选项</span><a class="headerlink" href="#id35" title="永久链接至表格">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>选项</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-i</p></td>
<td><p>删除文件前询问用户是否执行操作</p></td>
</tr>
<tr class="row-odd"><td><p>-f</p></td>
<td><p>不必询问直接强制删除</p></td>
</tr>
<tr class="row-even"><td><p>-R,-r</p></td>
<td><p>删除指定目录中的所有文件和目录</p></td>
</tr>
</tbody>
</table>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ rm dir_xx ← ❶
rm: 无法删除 &#39;dir_xx&#39;: 是一个目录
$ rm -r dir_xx ← ❷
$ rm fileB ← ❸
$ ls -l
总用量 0
drwxr-xr-x. 2 renkeju renkeju  6  2月 18 13:36 dir_x
drwxr-xr-x. 2 renkeju renkeju  6  2月 18 13:36 dir_y
drwxr-xr-x. 3 renkeju renkeju 19  2月 18 13:37 dir_z
-rw-r--r--. 1 renkeju renkeju  0  5月 13  2020 fileA
</pre></div>
</div>
<p>❶ 不带“-r”选项的命令无法删除目录</p>
<p>❷ 可以使用“-r”选项删除目录</p>
<p>❸ 不需要指定选项就可以删除文件</p>
</div>
<div class="section" id="id20">
<h4>确认文件类型<a class="headerlink" href="#id20" title="永久链接至标题">¶</a></h4>
<p>使用file命令可以确定文件类型。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>a
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/linux.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">《Linux 基础实践入门》</a></h1>








<h3>导航</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Chapter_1/1.Linux_overview.html">第一章 Linux 概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Chapter_2/2.start_and_stop_linux.html">第二章 Linux的启动和停止</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">第三章 文件的操作与使用</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#linux">3.1 了解Linux目录结构</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">树状结构与各目录的作用</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">命令提示符</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">离线文档</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id6">3.2 管理文件和目录</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">在命令行中处理文件和目录</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Appendix_A/A.Create_a_virtual_environment.html">附录A 创建虚拟环境</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../Chapter_2/2.start_and_stop_linux.html" title="上一章">第二章 Linux的启动和停止</a></li>
      <li>Next: <a href="../Appendix_A/A.Create_a_virtual_environment.html" title="下一章">附录A 创建虚拟环境</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, renkeju.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>